---
title: æœ€ä½³å®è·µ
date: 2026-1-27
---

### Redisçš„kvé”®å€¼å¯¹è®¾è®¡

**å‘½å**ä¸Šæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œkeyä¸­å‰é¢çš„å°½é‡å¤§å³å¯ï¼Œå¦‚ï¼š`example:demo:token:46ASFasf6541as6`ç”¨å±‚å±‚é€’è¿›çš„å‘½ååšæˆkeyï¼Œæœ€åä½¿ç”¨tokenidä½œä¸ºå”¯ä¸€æ ‡è¯†ï¼Œå†…éƒ¨è®°å½•tokenå¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯ã€‚

**é•¿åº¦**å°½é‡ä¸è¦è¶…è¿‡**44å­—èŠ‚**ï¼ŒRedisä¸­keyä½¿ç”¨**String**ç±»å‹ï¼Œåº•å±‚ç¼–ç åŒ…æ‹¬intï¼Œ**embstr**ï¼Œrawä¸‰ç§ï¼Œ**embstråœ¨å°äº44å­—èŠ‚æ—¶ä½¿ç”¨**ï¼Œä½¿ç”¨**è¿ç»­**çš„å†…å­˜ç©ºé—´ï¼Œéœ€æ±‚çš„**å†…å­˜æ›´å°‘**ï¼ˆè¶…è¿‡äº†å˜æˆrawï¼‰ï¼ˆ6.0æ˜¯44ï¼Œä»¥å‰çš„é»˜è®¤æ›´å°ä¸º39ï¼‰

**BigKey**å°½é‡é¿å…ï¼Œå¦‚Stringé”®å€¼å¯¹å¤§å°è¶…è¿‡5MBï¼›zsetï¼Œhashç­‰è¶…è¿‡1000ä¸ªå…ƒç´ ç­‰ã€‚å•é”®å€¼å¯¹è¿‡å¤§ä¼šå¯¼è‡´**ç½‘ç»œé˜»å¡**ï¼ˆå•æ¬¡å¸¦å®½ä¸å¤Ÿï¼‰ï¼Œ**æ•°æ®å€¾æ–œ**ï¼ˆå†…å­˜ä¸­å…¶ä»–èµ„æºä½¿ç”¨ç‡è¿‡ä½ï¼Œæœ€å¥½æ‹†åˆ†ï¼‰ï¼Œ**Redisé˜»å¡**ï¼ˆå…ƒç´ è¾ƒå¤šçš„setç­‰ä¸€æ—¦æ¶‰åŠæ’åºç­‰æ“ä½œæ¯”è¾ƒè€—æ—¶ï¼‰ï¼Œ**CPUå‹åŠ›å¤§**ï¼ˆæ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–èµ„æºè¦æ±‚å¤§ï¼Œæå–æ’å…¥Rediséœ€è¦ï¼‰

> æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼**æŸ¥è¯¢**BigKeyï¼š
>
> redis -cli --bigkeysï¼šç›´æ¥éå†åˆ†ææ‰€æœ‰keyï¼Œè¿”å›ç»Ÿè®¡ç»“æœä»¥åŠæ¯ç§æ•°æ®ç±»å‹ï¼ˆString,listï¼‰çš„top1 BigKey
>
> scanï¼šè‡ªè¡Œç¼–ç¨‹å®ç°ï¼ˆæ³¨æ„ä¸è¦ç›´æ¥*å…¨éƒ¨æå–ï¼‰
>
> ç¬¬ä¸‰æ–¹å·¥å…·ï¼šredis-rdb-toolsåˆ†ærdbæ–‡ä»¶ï¼Œä½†æ˜¯ä¸æ˜¯å®æ—¶çš„
>
> å‡å¦‚ç›´æ¥delä¸€ä¸ªbigkeyï¼Œé‚£ä¹Ÿä¼šå¯¼è‡´ä¸€æ®µæ—¶é—´çš„é˜»å¡ï¼Œé‚£ä¹ˆè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å»é¿å…ä½¿ç”¨ä¸»çº¿ç¨‹æ¥å®Œæˆè¿™æ ·çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨**unlink**ä½¿ç”¨é¢å¤–çš„çº¿ç¨‹æ¥å®Œæˆä¸€ä¸ªBigKeyçš„åˆ é™¤

å¯¹äºjsonç±»å‹çš„ç¼“å­˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨**hash**æ¥å­˜å‚¨ï¼Œä½†æ˜¯hashçš„fieldä¸å¯ä»¥å¤ªå¤šï¼å°çš„æ—¶å€™ä¼šä½¿ç”¨ziplistæ¥è¿ç»­å­˜å‚¨ï¼Œæ‰€ä»¥å ç”¨ç©ºé—´è¿˜ç®—æ¯”è¾ƒå°ï¼Œå¤§äº†å°±å’Œhashmapä¸€æ ·äº†ï¼ŒçœŸçš„éœ€è¦çš„æ—¶å€™å°½é‡æ‹†åˆ†ï¼



### æ‰¹å¤„ç†ï¼ˆå¤§æ•°æ®é‡å¯¼å…¥å¯¼å‡ºï¼‰

åœ¨æˆ‘ä»¬ä¹‹å‰çš„ä¸šåŠ¡å¤„ç†ä¸­ï¼Œä¸€èˆ¬ä¼šé¿å…å¯¹keyçš„æ‰¹é‡éå†ï¼Œæˆ–è€…è¯´ä»è®¾è®¡ä¸Šå°±é¿å…å‡ºç°å°†æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªé”®å€¼å¯¹ä¸­ï¼Œä¸”ä¸€èˆ¬ä¹Ÿä¸ä¼šå»æ‰¹é‡è·å–é”®å€¼å¯¹ã€‚ä½†å½“æˆ‘ä»¬çœŸçš„éœ€è¦è¿™ä¹ˆä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ï¼Œåœ¨åç«¯ä¸redisä¹‹é—´ï¼Œ**è·å–ä¸€æ¬¡å°±éœ€è¦è¿”å›ä¸€æ¬¡**ï¼Œè¿™æ ·çš„å¼€é”€æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰è¿™æ ·çš„å‘½ä»¤èƒ½å¤Ÿè®©æˆ‘ä»¬ç›´æ¥æ‰¹é‡è¯»å–æ•°æ®ï¼Œæ‰¹é‡ä¸€å£æ°”è¿”å›ï¼Œé¿å…è¿™æ ·ä¸å¿…è¦çš„å¼€é”€å‘¢ï¼Ÿ

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨msetæ¥å®ç°è¿™æ ·çš„æ‰¹é‡æ’å…¥å·¥ä½œï¼Œä½†æ˜¯åªèƒ½å¤„ç†Stringç±»å‹ï¼Œlistä¸å¯ä»¥ï¼Œä¸”å‡ä¸æ”¯æŒå¤škeyï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆåšï¼Ÿ

è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç®¡é“äº†ï¼š

```java
Pipeline p = redis.pipelined();
p.set("k1", "v1");
p.set("k2", "v2");
p.set("k3", "v3");
p.sync(); // ä¸€æ¬¡æ€§å‘é€æ‰€æœ‰å‘½ä»¤å¹¶è·å–ç»“æœ
```

| ç‰¹æ€§             | è¯´æ˜                                                         |
| :--------------- | :----------------------------------------------------------- |
| **éåŸå­æ€§**     | Pipeline ä¸­çš„å‘½ä»¤**ä¸ä¼šè¢«åŸå­æ‰§è¡Œ**ï¼ˆä¸åƒ `MULTI/EXEC` äº‹åŠ¡ï¼‰ |
| **é¡ºåºæ‰§è¡Œ**     | å‘½ä»¤æŒ‰æ·»åŠ é¡ºåºåœ¨ Redis æœåŠ¡ç«¯ä¾æ¬¡æ‰§è¡Œ                        |
| **æ‰¹é‡å“åº”**     | æ‰€æœ‰å‘½ä»¤æ‰§è¡Œå®Œåï¼Œä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰ç»“æœ                         |
| **èŠ‚çœç½‘ç»œå¼€é”€** | å‡å°‘ TCP åŒ…æ•°é‡å’Œ RTT æ¬¡æ•°                                   |

  **é€‚åˆç”¨ Pipeline çš„åœºæ™¯ï¼š**

- æ‰¹é‡å¯¼å…¥/å¯¼å‡ºæ•°æ®
- åˆå§‹åŒ–ç¼“å­˜
- é«˜é¢‘æ¬¡å°å‘½ä»¤èšåˆ
- ç½‘ç»œå»¶è¿Ÿè¾ƒé«˜çš„ç¯å¢ƒï¼ˆå¦‚è·¨æœºæˆ¿ï¼‰

> åˆ†ç‰‡é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œkeyä¼šè¢«hashå¹¶æ ¹æ®ç»“æœslotè´Ÿè½½å‡è¡¡é”®å€¼å¯¹å­˜å‚¨åˆ°å„ä¸ªèŠ‚ç‚¹ï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯åªå‘ä¸€ä¸ªè¯·æ±‚çš„ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ“ä½œéƒ½ä¼šæ‰“åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶å€™å°±æœ‰å¯èƒ½ä¼šä¸¢å¤±æ•°æ®ï¼Œè¿™è¯¥æ€ä¹ˆåŠï¼Ÿ
>
> HashTagå¼ºåˆ¶å°†è¿™äº›keyç»™åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Ÿè¿™å¯èƒ½ä¼šå¯¼è‡´**æ•°æ®å€¾æ–œ**çš„é—®é¢˜ï¼Œä¸è€ƒè™‘ã€‚
>
> é‚£ä¹ˆå…¶å®redisTemplateï¼ˆlettuceï¼‰æœ¬èº«å°±ä¸ºæˆ‘ä»¬å‡†å¤‡äº†ä¸€ç³»åˆ—multiå‘½ä»¤æ¥å®ç°å¯¹mapæ•°æ®çš„æ‰¹é‡å¯¼å…¥ï¼š
>
> multiSetï¼ˆæ‰¹é‡æ’å…¥ï¼‰ï¼š
>
> ```java
> @Autowired
> private RedisTemplate<String, String> redisTemplate;
> 
> public void batchSet() {
>     Map<String, String> map = new HashMap<>();
>     map.put("user:1:name", "Alice");
>     map.put("user:1:age", "25");
>     map.put("user:2:name", "Bob");
>     map.put("user:2:age", "30");
> 
>     // æ‰¹é‡è®¾ç½®ï¼Œç­‰ä»·äº MSET å‘½ä»¤
>     redisTemplate.opsForValue().multiSet(map);
> }
> ```
>
> multiGetï¼ˆæ‰¹é‡è·å–ï¼‰ï¼š
>
> ```java
> @Autowired
> private RedisTemplate<String, String> redisTemplate;
> 
> public void batchGet() {
>     List<String> keys = Arrays.asList("user:1:name", "user:1:age", "user:2:name");
> 
>     // æ‰¹é‡è·å–ï¼Œè¿”å› List<V>
>     List<String> values = redisTemplate.opsForValue().multiGet(keys);
> 
>     for (int i = 0; i < keys.size(); i++) {
>         System.out.println(keys.get(i) + " => " + values.get(i));
>     }
> }
> ```



### æœåŠ¡ç«¯ä¼˜åŒ–

**æŒä¹…åŒ–**åšæ··åˆæŒä¹…åŒ–ï¼Œèƒ½å¼€AOFå°±ç”¨AOFï¼ŒRDBå®šæœŸæŒä¹…åŒ–ã€‚

åŒæ—¶è®¾ç½®åˆç†çš„AOFçš„rewriteé˜ˆå€¼ï¼Œé¿å…é¢‘ç¹bgrewriteï¼ˆAOFæ–‡ä»¶è¿‡å¤§ä¼šå¯¹æ—¥å¿—åšä¼˜åŒ–ï¼ŒåŒæ•°æ®å–æœ€ç»ˆä¿®æ”¹ç»“æœï¼‰

```bash
auto-aof-rewrite-percentage 100 # æ¯”ä¸Šæ¬¡æ–‡ä»¶å¢é•¿è¶…è¿‡100%å‘ç”Ÿé‡å†™
auto-aof-rewrite-min-size 64mb # AOFæ–‡ä»¶æœ€å°å¤šå¤§æ‰ä¼šè§¦å‘é‡å†™
```

ç¦æ­¢rewriteæœŸé—´aofï¼Œé…ç½®no-appendfsync-on-rewrite = yesï¼ˆè¿½æ±‚æ€§èƒ½å°±ç¦æ­¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´aofæ—¥å¿—å¹¶éæœ€æ–°æ•°æ®ï¼‰

> è°¨æ…å…³é—­æŒä¹…åŒ–ï¼Œä¸æ˜¯å› ä¸ºæŒä¹…åŒ–çœŸçš„æ€ä¹ˆæ€ä¹ˆé‡è¦ï¼Œè€Œæ˜¯æ— æ³•é¢„æµ‹å¯èƒ½å­˜åœ¨çš„å›°å¢ƒï¼ˆé¿å…èƒŒé”…ï¼‰ï¼Œä¸æ˜¯ç‰¹åˆ«è¿½æ±‚æ€§èƒ½è€Œä¸”è¿˜èµ„æºåƒç´§ï¼Œèƒ½ä¸å…³å°±ä¸å…³ã€‚

**éƒ¨ç½²æ–¹é¢**å•èŠ‚ç‚¹å†…å­˜ä¸è¦è¿‡å¤§ï¼Œå¯èƒ½ä¼šä½¿å¾—åŒæ­¥å‹åŠ›è¿‡å¤§ï¼ˆä¸€èˆ¬æ¨è4~8Gï¼Œå­˜ç–‘ï¼Œæ ¹æ®å®é™…æƒ…å†µæ¥ï¼‰ã€‚

å°½é‡é¿å…ä¸å…¶ä»–æœåŠ¡ï¼ˆæ•°æ®åº“ï¼ŒMQï¼‰éƒ¨ç½²åœ¨ä¸€èµ·ã€‚



**æ…¢æŸ¥è¯¢**ï¼šå°½ç®¡ Redis å¤§éƒ¨åˆ†æ“ä½œæ˜¯ O(1) æˆ– O(log N)ï¼Œä½†ä»¥ä¸‹æƒ…å†µä¼šå¯¼è‡´å‘½ä»¤æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼š

| åŸå›                     | ç¤ºä¾‹                                                         |
| :---------------------- | :----------------------------------------------------------- |
| **å¤§æ•°æ®ç»“æ„æ“ä½œ**      | å¯¹ä¸€ä¸ªåŒ…å« 100 ä¸‡ä¸ªå…ƒç´ çš„ `List` æ‰§è¡Œ `LRANGE 0 -1`          |
| **é«˜å¤æ‚åº¦å‘½ä»¤**        | `KEYS *`ï¼ˆå…¨åº“æ‰«æï¼‰ã€`SMEMBERS big_set`ã€`HGETALL huge_hash` |
| **é˜»å¡å‘½ä»¤**            | `BLPOP`ã€`BRPOP`ï¼ˆè™½ä¸æ¶ˆè€— CPUï¼Œä½†ä¼šé˜»å¡è¿æ¥ï¼‰               |
| **Lua è„šæœ¬è¿‡é•¿**        | åœ¨ Lua ä¸­å¾ªç¯å¤„ç†å¤§é‡æ•°æ®                                    |
| **æŒä¹…åŒ–/å†…å­˜å›æ”¶å¹²æ‰°** | è™½ç„¶ä¸å±äºå‘½ä»¤æœ¬èº«ï¼Œä½†å¯èƒ½å½±å“è§‚æµ‹                           |

> âš ï¸ Redis æ˜¯**å•çº¿ç¨‹å¤„ç†å‘½ä»¤**ï¼ˆ6.0+ æœ‰éƒ¨åˆ†å¤šçº¿ç¨‹ I/Oï¼Œä½†å‘½ä»¤æ‰§è¡Œä»æ˜¯å•çº¿ç¨‹ï¼‰ï¼Œ**ä¸€ä¸ªæ…¢å‘½ä»¤ä¼šé˜»å¡åç»­æ‰€æœ‰è¯·æ±‚ï¼**

å¯ä»¥é€šè¿‡é…ç½®ä¸€å®šç¨‹åº¦ä¸Šå€ŸåŠ©redisæœ¬èº«çš„æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•è¿™äº›æ“ä½œå¹¶åœ¨åç»­ä¼˜åŒ–ï¼š

```bash
# æ‰§è¡Œæ—¶é—´è¶…è¿‡å¤šå°‘å¾®ç§’ï¼ˆÎ¼sï¼‰è®°å½•ä¸ºæ…¢æŸ¥è¯¢ï¼ˆé»˜è®¤ 10000 = 10msï¼Œæ ¹æ®å®é™…åœºæ™¯ä¿®æ”¹ï¼‰
slowlog-log-slower-than 10000

# æœ€å¤šä¿å­˜å¤šå°‘æ¡æ…¢æŸ¥è¯¢è®°å½•ï¼ˆå…ˆè¿›å…ˆå‡ºï¼Œé»˜è®¤ 128ï¼Œæ ¹æ®å®é™…åœºæ™¯ä¿®æ”¹ï¼Œå»ºè®®å»¶é•¿ä¸º1000ï¼‰
slowlog-max-len 128
```

è¾“å‡ºæ—¥å¿—ï¼š

```bash
# è·å–æœ€è¿‘ 10 æ¡æ…¢æŸ¥è¯¢
SLOWLOG GET 10

# è·å–æ…¢æŸ¥è¯¢æ€»æ•°
SLOWLOG LEN

# æ¸…ç©ºæ…¢æŸ¥è¯¢æ—¥å¿—
SLOWLOG RESET
```



### å†…å­˜å ç”¨æƒ…å†µæ£€æŸ¥

è¿æ¥åˆ°redisåå¯ä»¥ä½¿ç”¨infoå‘½ä»¤æŸ¥è¯¢ä½¿ç”¨æƒ…å†µï¼Œæ¯”æ–¹è¯´ä½¿ç”¨info memoryæ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µ

| ç±»åˆ«ï¼ˆSectionï¼‰ | ä¸»è¦å†…å®¹è¯´æ˜                                              |
| :-------------- | :-------------------------------------------------------- |
| **Server**      | Redis æœåŠ¡å™¨ç‰ˆæœ¬ã€è¿è¡Œæ¨¡å¼ã€ç«¯å£ã€PIDã€å¯åŠ¨æ—¶é—´ç­‰åŸºæœ¬ä¿¡æ¯ |
| **Clients**     | å½“å‰å®¢æˆ·ç«¯è¿æ¥æ•°ã€é˜»å¡å®¢æˆ·ç«¯æ•°ã€æœ€å¤§è¿æ¥é™åˆ¶ç­‰            |
| **Memory**      | å†…å­˜ä½¿ç”¨æƒ…å†µï¼ˆé‡ç‚¹ï¼è§ä¸‹æ–¹è¯¦ç»†è¡¨ï¼‰                        |
| **Persistence** | RDB/AOF æŒä¹…åŒ–çŠ¶æ€ã€æœ€è¿‘ä¿å­˜æ—¶é—´ã€AOF é‡å†™çŠ¶æ€ç­‰          |
| **Stats**       | å‘½ä»¤ç»Ÿè®¡ã€å‘½ä¸­ç‡ã€ç½‘ç»œæµé‡ã€æ‹’ç»è¿æ¥æ•°ã€è¿‡æœŸ key æ•°ç­‰     |
| **Replication** | ä¸»ä»å¤åˆ¶çŠ¶æ€ã€ä»èŠ‚ç‚¹ä¿¡æ¯ã€åç§»é‡ç­‰                        |
| **CPU**         | Redis ä¸»è¿›ç¨‹å’Œåå°è¿›ç¨‹çš„ CPU ä½¿ç”¨ç‡                       |
| **Modules**     | åŠ è½½çš„æ¨¡å—ä¿¡æ¯ï¼ˆå¦‚ RediSearchã€RedisJSON ç­‰ï¼‰             |
| **Keyspace**    | å„æ•°æ®åº“ä¸­ key çš„æ•°é‡ã€å¸¦è¿‡æœŸæ—¶é—´çš„ key æ•°é‡              |

> ğŸ’¡ å¯é€šè¿‡ `INFO <section>` æŸ¥çœ‹æŒ‡å®šéƒ¨åˆ†ï¼Œå¦‚ï¼š
>
> - `INFO memory`
> - `INFO clients`
> - `INFO stats`

æœ€å¸¸ä½¿ç”¨çš„å†…å­˜ï¼š

| å­—æ®µ                        | è¯´æ˜                                                         | å•ä½   | å…³æ³¨å»ºè®®                                                     |
| :-------------------------- | :----------------------------------------------------------- | :----- | :----------------------------------------------------------- |
| `used_memory`               | Redis **åˆ†é…å™¨**ï¼ˆå¦‚ jemallocï¼‰åˆ†é…çš„å†…å­˜æ€»é‡                | bytes  | æ ¸å¿ƒæŒ‡æ ‡ï¼Œåæ˜  Redis å®é™…ä½¿ç”¨çš„å†…å­˜é‡                        |
| `used_memory_human`         | `used_memory` çš„å¯è¯»æ ¼å¼ï¼ˆå¦‚ 10.5Mï¼‰                         | â€”      | ä¾¿äºäººå·¥æŸ¥çœ‹                                                 |
| `used_memory_rss`           | Redis è¿›ç¨‹ **æ“ä½œç³»ç»Ÿå±‚é¢** å ç”¨çš„ç‰©ç†å†…å­˜ï¼ˆResident Set Sizeï¼‰ | bytes  | è‹¥è¿œå¤§äº `used_memory`ï¼Œå¯èƒ½å­˜åœ¨å†…å­˜ç¢ç‰‡                     |
| `used_memory_rss_human`     | `used_memory_rss` çš„å¯è¯»æ ¼å¼                                 | â€”      | â€”                                                            |
| `used_memory_peak`          | Redis å†å²å³°å€¼å†…å­˜ä½¿ç”¨é‡                                     | bytes  | åˆ¤æ–­æ˜¯å¦æ¥è¿‘å†…å­˜ä¸Šé™                                         |
| `used_memory_peak_human`    | å³°å€¼å†…å­˜çš„å¯è¯»æ ¼å¼                                           | â€”      | â€”                                                            |
| `used_memory_peak_perc`     | å½“å‰å†…å­˜ / å³°å€¼å†…å­˜ çš„ç™¾åˆ†æ¯”                                 | %      | å¦‚ `85.23%`ï¼Œåæ˜ å†…å­˜ä½¿ç”¨è¶‹åŠ¿                                |
| `used_memory_overhead`      | Redis **å†…éƒ¨å¼€é”€**ï¼ˆkey ç»“æ„ã€å®¢æˆ·ç«¯ç¼“å†²åŒºã€ä¸»ä»å¤åˆ¶ç¼“å­˜ç­‰ï¼‰ | bytes  | = æ€»å†…å­˜ - æ•°æ®å®é™…å­˜å‚¨å†…å­˜                                  |
| `used_memory_startup`       | Redis å¯åŠ¨æ—¶çš„åŸºç¡€å†…å­˜æ¶ˆè€—ï¼ˆç©ºå®ä¾‹ï¼‰                         | bytes  | å¯ä¼°ç®—çº¯æ•°æ®å ç”¨ï¼š`used_memory - used_memory_startup`        |
| `used_memory_dataset`       | **å®é™…æ•°æ®é›†**å ç”¨çš„å†…å­˜ï¼ˆâ‰ˆ `used_memory - used_memory_overhead`ï¼‰ | bytes  | å…³æ³¨æ•°æ®çœŸå®å¤§å°                                             |
| `used_memory_dataset_perc`  | æ•°æ®é›†å†…å­˜å ï¼ˆæ€»å†…å­˜ - å¯åŠ¨å†…å­˜ï¼‰çš„ç™¾åˆ†æ¯”                    | %      | è¶Šé«˜è¯´æ˜å†…å­˜åˆ©ç”¨ç‡è¶Šå¥½                                       |
| `allocator_allocated`       | åº•å±‚å†…å­˜åˆ†é…å™¨ï¼ˆå¦‚ jemallocï¼‰å·²åˆ†é…çš„å†…å­˜                    | bytes  | é€šå¸¸ â‰ˆ `used_memory`                                         |
| `allocator_active`          | åˆ†é…å™¨å½“å‰æ´»è·ƒçš„å†…å­˜é¡µ                                       | bytes  | â€”                                                            |
| `allocator_resident`        | åˆ†é…å™¨é©»ç•™ç‰©ç†å†…å­˜                                           | bytes  | â€”                                                            |
| `total_system_memory`       | ç³»ç»Ÿæ€»ç‰©ç†å†…å­˜                                               | bytes  | åˆ¤æ–­ Redis æ˜¯å¦è¿‡åº¦å ç”¨ç³»ç»Ÿèµ„æº                              |
| `total_system_memory_human` | ç³»ç»Ÿæ€»å†…å­˜å¯è¯»æ ¼å¼                                           | â€”      | â€”                                                            |
| `used_memory_lua`           | Lua è„šæœ¬å¼•æ“å ç”¨çš„å†…å­˜                                       | bytes  | é»˜è®¤ 32KBï¼Œè‹¥è¿‡é«˜éœ€æ£€æŸ¥è„šæœ¬                                  |
| `used_memory_scripts`       | ç¼“å­˜çš„ Lua è„šæœ¬æœ¬èº«å ç”¨å†…å­˜                                  | bytes  | â€”                                                            |
| `number_of_cached_scripts`  | ç¼“å­˜çš„ Lua è„šæœ¬æ•°é‡                                          | â€”      | â€”                                                            |
| `maxmemory`                 | é…ç½®çš„ `maxmemory` é™åˆ¶ï¼ˆ0 è¡¨ç¤ºæ— é™åˆ¶ï¼‰                      | bytes  | å†³å®šæ˜¯å¦è§¦å‘æ·˜æ±°ç­–ç•¥                                         |
| `maxmemory_human`           | `maxmemory` å¯è¯»æ ¼å¼                                         | â€”      | â€”                                                            |
| `maxmemory_policy`          | å†…å­˜è¾¾åˆ°ä¸Šé™æ—¶çš„æ·˜æ±°ç­–ç•¥ï¼ˆå¦‚ `noeviction`, `allkeys-lru`ï¼‰   | â€”      | **å…³é”®é…ç½®ï¼**                                               |
| `mem_fragmentation_ratio`   | **å†…å­˜ç¢ç‰‡ç‡** = `used_memory_rss / used_memory`             | æ— å•ä½ | **ç†æƒ³å€¼ï¼š1ï½1.5** â€¢ >1.5ï¼šç¢ç‰‡ä¸¥é‡ â€¢ <1ï¼šå¯èƒ½ä½¿ç”¨äº† swapï¼ˆå±é™©ï¼ï¼‰ |
| `mem_not_counted_for_evict` | ä¸å‚ä¸æ·˜æ±°è®¡ç®—çš„å†…å­˜ï¼ˆå¦‚ AOF ç¼“å†²åŒºï¼‰                        | bytes  | â€”                                                            |
| `mem_replication_backlog`   | å¤åˆ¶ç§¯å‹ç¼“å†²åŒºï¼ˆreplication backlogï¼‰å¤§å°                    | bytes  | ä¸»ä»æ–­è¿åèƒ½å¦å¢é‡åŒæ­¥çš„å…³é”®                                 |
| `mem_clients_slaves`        | æ‰€æœ‰ä»èŠ‚ç‚¹å®¢æˆ·ç«¯ç¼“å†²åŒºå ç”¨å†…å­˜                               | bytes  | ä»èŠ‚ç‚¹å¤šæ—¶å¯èƒ½è¾ƒå¤§                                           |
| `mem_clients_normal`        | æ™®é€šå®¢æˆ·ç«¯ç¼“å†²åŒºå ç”¨å†…å­˜                                     | bytes  | å®¢æˆ·ç«¯å‘é€å¤§è¯·æ±‚æˆ–æ¶ˆè´¹æ…¢ä¼šå¯¼è‡´å †ç§¯                           |
| `mem_aof_buffer`            | AOF ç¼“å†²åŒºå¤§å°                                               | bytes  | AOF å¼€å¯æ—¶å­˜åœ¨                                               |
| `mem_allocator`             | ä½¿ç”¨çš„å†…å­˜åˆ†é…å™¨ï¼ˆå¦‚ `jemalloc-5.1.0`ï¼‰                      | â€”      | jemalloc æ˜¯é»˜è®¤ä¸”æ¨èçš„                                      |
| `active_defrag_running`     | æ˜¯å¦æ­£åœ¨æ‰§è¡Œä¸»åŠ¨ç¢ç‰‡æ•´ç†ï¼ˆ1=æ˜¯ï¼‰                             | bool   | Redis 4.0+ æ”¯æŒ                                              |
| `lazyfree_pending_objects`  | ç­‰å¾…å¼‚æ­¥é‡Šæ”¾çš„å¯¹è±¡æ•°é‡ï¼ˆå¦‚ `UNLINK`ï¼‰                        | count  | >0 è¡¨ç¤ºæœ‰åå°é‡Šæ”¾ä»»åŠ¡                                        |



### åˆ†ç‰‡é›†ç¾¤è¿˜æ˜¯ä¸»ä»é›†ç¾¤

åˆ†ç‰‡é›†ç¾¤æ”¯æŒä¸åŒçš„ä¸»èŠ‚ç‚¹ï¼ˆå’Œä»–çš„ä»èŠ‚ç‚¹ï¼‰è´Ÿè´£å­˜å‚¨ä¸åŒçš„æ•°æ®ï¼Œæé«˜çš„ç¼“å­˜æ•°æ®çš„å­˜å‚¨èƒ½åŠ›ï¼ˆä¸»ä»é›†ç¾¤éƒ½å­˜ä¸€ä»½åŒæ ·çš„ï¼‰ï¼Œåœ¨èµ„æºå……è¶³çš„å‰æä¸‹ï¼Œèƒ½åŠ›ç¡®å®æ˜¯æ¯”ä¸»ä»é›†ç¾¤çš„ç©ºé—´åˆ©ç”¨æ•ˆç‡é«˜çš„ï¼Œä½†æ˜¯é™¤äº†åƒèµ„æºï¼Œè¿˜æœ‰ä¸€äº›ç¼ºç‚¹ï¼š

ä¸€æ—¦æœ‰æ’æ§½slotä¸å¯ç”¨ï¼Œé›†ç¾¤å°±åœæ­¢æœåŠ¡äº†ã€‚

åŒæ­¥å¼€é”€å¤§ï¼Œå¿ƒè·³åŒ…ç¡®è®¤å¥åº·å¼€é”€å¤§ï¼ˆè§„æ¨¡ä¸Šæ¥äº†ï¼Œä¸»èŠ‚ç‚¹ä¹‹é—´é‡æ¯”å“¨å…µå¤§ï¼‰ã€‚

> ä¸»ä»èƒ½å¹²ï¼Œå°½é‡å°±ä¸è¦ä½¿ç”¨åˆ†ç‰‡
