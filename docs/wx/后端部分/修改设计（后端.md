---
title: 修改设计（后端）
date: 2025/11/3
tags:
 - 笔记
 - 后端
 - 设计
categories:
 - notes
---

### 拉黑重新做处理

对拉黑以及被拉黑的联系以及群组放至黑名单中，其contact的status为4:拉黑;5:被拉黑，对相应状态作说明

可以通过黑名单窗口修改当前用户对其他人的拉黑状态，取消拉黑将会重置status为0:非好友



### Nginx

后端可以做集群部署，但做了集群部署没有做gateway网关的话，前端就需要nginx作反向代理



### 文件管理

上传的ECS不够磁盘用那可以去用其他的OSS来实现文件管理，或者硬盘够用嫌管理不太好，可以使用minio来实现文件管理。

**发现一个问题**：分布式部署下，消息是可以redission传递的，但是文件怎么办？

针对后端分布式部署的情况，我们最好还是选择OSS来存储文件



### 接入AI

搞个ai对话

> hutool提供的AI：[AI封装-AIUtil | Hutool](https://doc.hutool.cn/pages/AIUtil/#使用)



### WebRTC实现视频交流

好像还可以顺带实现文件传输，看一下

[实现WebRTC P2P连接 - 知乎](https://zhuanlan.zhihu.com/p/45437087)

[WebRTC TURN协议初识及turnserver实践 - 知乎](https://zhuanlan.zhihu.com/p/71025431)

[国内可访问的STUN服务器 - 知乎](https://zhuanlan.zhihu.com/p/1928418712958010287)

注意需要 HTTPS 或 `localhost` 环境才能调用 `getUserMedia`，去找腾讯云的办个几毛的域名嫖一个免费的ssl



### 人物模仿AI

找个合适的模型，将对话记录导入后简单实现模仿人类

简单的模型调用：



复杂的模型生成：

[WeClone](https://docs.weclone.love/zh/)



### MCP简单实现

顺便看看能不能用截取音频为文字，让人物模型来当牛做马