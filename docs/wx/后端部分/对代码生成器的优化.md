---
title: 代码生成器的优化
date: 2025/11/3
tags:
 - 笔记
 - 后端
 - MybatisPlus
categories:
 - notes
---

使用mybatisplus版本：<mybatis-plus.version>3.5.14</mybatis-plus.version>

版本不同可能导致各种各样的问题（如jdk不兼容mybatisplus和他的配件

mybatisplus不够用了，得搞点原生的mapper来做多表查询

将提供的一些牛逼版查询加入以实现多表联查，分页等功能

1. 将mapperxml导入，需要将与mybatisplus冲突的简单sql去除（根据完成的xml，让ai直接完成对ftl模版的编写）
2. 将query导入，载入手动分页（mybatisplus提供的分页也仅支持单表查询）

修改这个主要是实现mybatisplus实现不了的**多表查询**，以及**insertOrUpdate**用`ON DUPLICATE KEY UPDATE`的方式来实现避免索引异常。

需要完成的mapper复杂查询：

1. 全部模糊查询：根据输入非空内容对相应表做模糊查询，在service层写太难看了，写到mapper里面去
2. 插入或更新：有些时候会有多个索引（双主键等），需要加入`ON DUPLICATE KEY UPDATE`来实现insertOrUpdate
3. 联表基础sql：自己表的简单查询即可，方便后续有需求时修改联表查询

对redis的模版做优化

