import{_ as s,c as e,e as a,o as t}from"./app-DI6YVXtA.js";const l={};function i(r,n){return t(),e("div",null,[...n[0]||(n[0]=[a(`<p>Docker å®¹å™¨é»˜è®¤è¿è¡Œåœ¨<strong>éš”ç¦»çš„ç½‘ç»œå‘½åç©ºé—´</strong>ä¸­ï¼Œä½†ä¸ºäº†å®ç°å®¹å™¨é—´ã€å®¹å™¨ä¸å¤–éƒ¨ä¸–ç•Œçš„é€šä¿¡ï¼ŒDocker æä¾›äº†çµæ´»çš„ç½‘ç»œæ¨¡å‹ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š<strong>å®‰å…¨éš”ç¦» + æŒ‰éœ€è¿é€š</strong>ã€‚</p><hr><h3 id="å››ç§å†…ç½®ç½‘ç»œé©±åŠ¨-network-drivers" tabindex="-1"><a class="header-anchor" href="#å››ç§å†…ç½®ç½‘ç»œé©±åŠ¨-network-drivers"><span>å››ç§å†…ç½®ç½‘ç»œé©±åŠ¨ï¼ˆNetwork Driversï¼‰</span></a></h3><p>Docker æ”¯æŒå¤šç§ç½‘ç»œé©±åŠ¨ï¼Œæœ€å¸¸ç”¨çš„æ˜¯å‰ä¸‰ç§ï¼š</p><table><thead><tr><th>é©±åŠ¨ç±»å‹</th><th>ç”¨é€”</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong><code>bridge</code>ï¼ˆé»˜è®¤ï¼‰</strong></td><td>å•æœºå¤šå®¹å™¨é€šä¿¡</td><td>å®¹å™¨é€šè¿‡è™šæ‹Ÿç½‘æ¡¥ <code>docker0</code> äº’è”ï¼Œéœ€ç«¯å£æ˜ å°„è®¿é—®å¤–ç½‘</td></tr><tr><td><strong><code>host</code></strong></td><td>å®¹å™¨å…±äº«ä¸»æœºç½‘ç»œ</td><td>æ— ç½‘ç»œéš”ç¦»ï¼Œæ€§èƒ½é«˜ï¼Œä»… Linux æ”¯æŒ</td></tr><tr><td><strong><code>none</code></strong></td><td>å®Œå…¨ç¦ç”¨ç½‘ç»œ</td><td>å®¹å™¨ä»…æœ‰ <code>lo</code> å›ç¯æ¥å£ï¼Œç”¨äºå®‰å…¨éš”ç¦»åœºæ™¯</td></tr><tr><td><strong><code>overlay</code></strong></td><td>è·¨ä¸»æœºå®¹å™¨é€šä¿¡ï¼ˆSwarm/K8sï¼‰</td><td>éœ€ Docker Swarm æˆ– Kubernetes æ”¯æŒ</td></tr></tbody></table><blockquote><p>âœ… <strong>90% çš„å•æœºåœºæ™¯ä½¿ç”¨ <code>bridge</code> ç½‘ç»œ</strong></p></blockquote><hr><h4 id="é»˜è®¤-bridge-ç½‘ç»œ-docker0" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤-bridge-ç½‘ç»œ-docker0"><span>é»˜è®¤ bridge ç½‘ç»œï¼ˆdocker0ï¼‰</span></a></h4><p>å½“ä½ ç›´æ¥è¿è¡Œ <code>docker run</code> è€Œä¸æŒ‡å®šç½‘ç»œæ—¶ï¼Œå®¹å™¨ä¼šåŠ å…¥é»˜è®¤çš„ <strong><code>bridge</code> ç½‘ç»œ</strong>ï¼ˆç”± <code>docker0</code> è™šæ‹Ÿç½‘æ¡¥å®ç°ï¼‰ã€‚</p><h5 id="ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹"><span>ç‰¹ç‚¹ï¼š</span></a></h5><ul><li>æ‰€æœ‰å®¹å™¨è¿æ¥åˆ°åŒä¸€ä¸ªç½‘æ¡¥ï¼ˆç±»ä¼¼æ¥åœ¨åŒä¸€å°äº¤æ¢æœºï¼‰</li><li>å®¹å™¨è·å¾—ç§æœ‰ IPï¼ˆå¦‚ <code>172.17.0.2</code>ï¼‰</li><li><strong>å®¹å™¨é—´å¯é€šè¿‡ IP é€šä¿¡ï¼Œä½†ä¸èƒ½é€šè¿‡å®¹å™¨åè§£æ</strong></li><li>è®¿é—®å¤–éƒ¨ç½‘ç»œï¼šé€šè¿‡ NATï¼ˆä¸»æœº IP è½¬å‘ï¼‰</li><li>å¤–éƒ¨è®¿é—®å®¹å™¨ï¼šå¿…é¡»é€šè¿‡ <code>-p</code> æ˜¾å¼ç«¯å£æ˜ å°„</li></ul><h5 id="ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹"><span>ç¤ºä¾‹ï¼š</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># å¯åŠ¨ä¸¤ä¸ªå®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> web nginx</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> client alpine</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åœ¨ client ä¸­ ping web çš„ IPï¼ˆéœ€å…ˆæŸ¥ IPï¼‰</span></span>
<span class="line"><span class="token function">docker</span> inspect web <span class="token operator">|</span> <span class="token function">grep</span> IPAddress  <span class="token comment"># å‡è®¾ä¸º 172.17.0.2</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> client <span class="token function">ping</span> <span class="token number">172.17</span>.0.2   <span class="token comment"># âœ… é€š</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> client <span class="token function">ping</span> web          <span class="token comment"># âŒ ä¸é€šï¼ˆé»˜è®¤ bridge ä¸æ”¯æŒ DNSï¼‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>âš ï¸ <strong>é»˜è®¤ bridge ç½‘ç»œçš„å±€é™æ€§</strong>ï¼š</p><ul><li>æ— æ³•é€šè¿‡å®¹å™¨åé€šä¿¡</li><li>æ— æ³•è‡ªå®šä¹‰å­ç½‘/MTU ç­‰å‚æ•°</li><li>æ‰€æœ‰å®¹å™¨åœ¨åŒä¸€å¹¿æ’­åŸŸï¼Œå®‰å…¨æ€§è¾ƒä½</li></ul></blockquote><hr><h4 id="è‡ªå®šä¹‰-bridge-ç½‘ç»œ-æ¨è" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰-bridge-ç½‘ç»œ-æ¨è"><span>è‡ªå®šä¹‰ bridge ç½‘ç»œï¼ˆæ¨èï¼ï¼‰</span></a></h4><p>ä½¿ç”¨ <code>docker network create</code> åˆ›å»ºçš„ bridge ç½‘ç»œ<strong>æ”¯æŒ DNS è‡ªåŠ¨å‘ç°</strong>ï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒçš„æœ€ä½³é€‰æ‹©ã€‚</p><h5 id="åˆ›å»ºä¸ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸ä½¿ç”¨"><span>åˆ›å»ºä¸ä½¿ç”¨ï¼š</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 1. åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ</span></span>
<span class="line"><span class="token function">docker</span> network create my-web-net</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. å¯åŠ¨å®¹å™¨å¹¶åŠ å…¥ç½‘ç»œ</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> db <span class="token parameter variable">--network</span> my-web-net redis</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> app <span class="token parameter variable">--network</span> my-web-net nginx</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. å®¹å™¨é—´å¯é€šè¿‡åç§°ç›´æ¥é€šä¿¡ï¼</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> app <span class="token function">ping</span> db        <span class="token comment"># âœ… æˆåŠŸï¼ˆè‡ªåŠ¨ DNS è§£æï¼‰</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> app <span class="token function">curl</span> http://db:6379  <span class="token comment"># âœ… è®¿é—® Redis</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#ä¼˜åŠ¿"><span>ä¼˜åŠ¿ï¼š</span></a></h5><table><thead><tr><th>åŠŸèƒ½</th><th>é»˜è®¤ bridge</th><th>è‡ªå®šä¹‰ bridge</th></tr></thead><tbody><tr><td>å®¹å™¨å DNS è§£æ</td><td>âŒ</td><td>âœ…</td></tr><tr><td>ç½‘ç»œéš”ç¦»ï¼ˆå¤šç»„å®¹å™¨äº’ä¸å½±å“ï¼‰</td><td>âŒ æ‰€æœ‰å®¹å™¨åœ¨åŒä¸€ç½‘ç»œ</td><td>âœ… å¯åˆ›å»ºå¤šä¸ªç‹¬ç«‹ç½‘ç»œ</td></tr><tr><td>è‡ªå®šä¹‰å­ç½‘/IP èŒƒå›´</td><td>âŒ</td><td>âœ… <code>--subnet 192.168.100.0/24</code></td></tr><tr><td>å®‰å…¨æ€§</td><td>è¾ƒä½</td><td>è¾ƒé«˜ï¼ˆé»˜è®¤å¯ç”¨ <code>--icc=false</code>ï¼‰</td></tr></tbody></table><blockquote><p>ğŸ’¡ <strong>æœ€ä½³å®è·µ</strong>ï¼š <strong>æ°¸è¿œä¸è¦ç”¨é»˜è®¤ bridge ç½‘ç»œéƒ¨ç½²å¤šå®¹å™¨åº”ç”¨ï¼</strong> å§‹ç»ˆä¸ºæ¯ä¸ªåº”ç”¨åˆ›å»ºç‹¬ç«‹çš„è‡ªå®šä¹‰ bridge ç½‘ç»œã€‚</p></blockquote><hr><h4 id="host-ç½‘ç»œæ¨¡å¼-é«˜æ€§èƒ½åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#host-ç½‘ç»œæ¨¡å¼-é«˜æ€§èƒ½åœºæ™¯"><span>host ç½‘ç»œæ¨¡å¼ï¼ˆé«˜æ€§èƒ½åœºæ™¯ï¼‰</span></a></h4><p>å®¹å™¨<strong>ç›´æ¥ä½¿ç”¨ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´</strong>ï¼Œæ— è™šæ‹Ÿç½‘ç»œå¼€é”€ã€‚</p><h5 id="ä½¿ç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ–¹å¼"><span>ä½¿ç”¨æ–¹å¼ï¼š</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--network</span> <span class="token function">host</span> nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#æ•ˆæœ"><span>æ•ˆæœï¼š</span></a></h5><ul><li>å®¹å™¨ç›‘å¬çš„ç«¯å£<strong>ç›´æ¥ç»‘å®šåˆ°ä¸»æœº</strong></li><li>æ— éœ€ <code>-p</code> æ˜ å°„ï¼š<code>curl http://localhost:80</code> å³å¯è®¿é—®</li><li>å®¹å™¨å†… <code>localhost</code> = ä¸»æœº <code>localhost</code></li></ul><h5 id="é€‚ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#é€‚ç”¨åœºæ™¯"><span>é€‚ç”¨åœºæ™¯ï¼š</span></a></h5><ul><li>ç½‘ç»œæ€§èƒ½æ•æ„Ÿçš„åº”ç”¨ï¼ˆå¦‚ç›‘æ§ä»£ç†ã€é«˜æ€§èƒ½ç½‘å…³ï¼‰</li><li>éœ€è¦ç›‘å¬å¤§é‡ç«¯å£çš„æœåŠ¡</li></ul><h5 id="ç¼ºé™·" tabindex="-1"><a class="header-anchor" href="#ç¼ºé™·"><span>ç¼ºé™·ï¼š</span></a></h5><ul><li>âŒ <strong>å®Œå…¨ä¸§å¤±ç½‘ç»œéš”ç¦»</strong></li><li>âŒ ç«¯å£å†²çªé£é™©é«˜ï¼ˆå¤šä¸ªå®¹å™¨ä¸èƒ½ç›‘å¬åŒä¸€ç«¯å£ï¼‰</li><li>âŒ ä»… Linux æ”¯æŒï¼ˆWindows/macOS å¿½ç•¥æ­¤å‚æ•°ï¼‰</li></ul><hr><h4 id="none-ç½‘ç»œæ¨¡å¼-å®Œå…¨éš”ç¦»" tabindex="-1"><a class="header-anchor" href="#none-ç½‘ç»œæ¨¡å¼-å®Œå…¨éš”ç¦»"><span>none ç½‘ç»œæ¨¡å¼ï¼ˆå®Œå…¨éš”ç¦»ï¼‰</span></a></h4><p>å®¹å™¨<strong>ä»…æœ‰ loopback æ¥å£</strong>ï¼Œæ— ä»»ä½•å¤–éƒ¨ç½‘ç»œã€‚</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--network</span> none alpine <span class="token function">ip</span> addr</span>
<span class="line"><span class="token comment"># è¾“å‡ºåªæœ‰ lo: 127.0.0.1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#ç”¨é€”"><span>ç”¨é€”ï¼š</span></a></h5><ul><li>å®‰å…¨æ•æ„Ÿä»»åŠ¡ï¼ˆå¦‚ç¦»çº¿æ•°æ®å¤„ç†ï¼‰</li><li>è‡ªå®šä¹‰ç½‘ç»œæ–¹æ¡ˆï¼ˆé…åˆç¬¬ä¸‰æ–¹ CNI æ’ä»¶ï¼‰</li></ul><hr><h3 id="å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡"><span>å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡</span></a></h3><h4 id="_1-å®¹å™¨-â†’-å¤–éƒ¨ç½‘ç»œ-å¦‚è®¿é—®äº’è”ç½‘" tabindex="-1"><a class="header-anchor" href="#_1-å®¹å™¨-â†’-å¤–éƒ¨ç½‘ç»œ-å¦‚è®¿é—®äº’è”ç½‘"><span>1. å®¹å™¨ â†’ å¤–éƒ¨ç½‘ç»œï¼ˆå¦‚è®¿é—®äº’è”ç½‘ï¼‰</span></a></h4><ul><li>é»˜è®¤å…è®¸ï¼ˆé€šè¿‡ä¸»æœº NAT è½¬å‘ï¼‰</li><li>æ— éœ€é¢å¤–é…ç½®</li></ul><h4 id="_2-å¤–éƒ¨-â†’-å®¹å™¨-å¦‚æµè§ˆå™¨è®¿é—®-web-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-å¤–éƒ¨-â†’-å®¹å™¨-å¦‚æµè§ˆå™¨è®¿é—®-web-æœåŠ¡"><span>2. å¤–éƒ¨ â†’ å®¹å™¨ï¼ˆå¦‚æµè§ˆå™¨è®¿é—® Web æœåŠ¡ï¼‰</span></a></h4><ul><li><p>å¿…é¡»é€šè¿‡ <code>-p</code> æˆ– <code>--publish</code> æ˜ å°„ç«¯å£</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 nginx</span>
<span class="line"><span class="token comment"># ä¸»æœº 8080 â†’ å®¹å™¨ 80</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è®¿é—®æ–¹å¼ï¼š<code>http://&lt;ä¸»æœºIP&gt;:8080</code></p></li></ul><blockquote><p>ğŸ” <strong>ç«¯å£æ˜ å°„åŸç†</strong>ï¼š Docker åœ¨ä¸»æœº iptables ä¸­æ·»åŠ  DNAT è§„åˆ™ï¼Œå°†æµé‡è½¬å‘åˆ°å®¹å™¨ IPã€‚</p></blockquote><hr><h3 id="å¤šå®¹å™¨åº”ç”¨ç½‘ç»œç¤ºä¾‹-web-db" tabindex="-1"><a class="header-anchor" href="#å¤šå®¹å™¨åº”ç”¨ç½‘ç»œç¤ºä¾‹-web-db"><span>å¤šå®¹å™¨åº”ç”¨ç½‘ç»œç¤ºä¾‹ï¼ˆWeb + DBï¼‰</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 1. åˆ›å»ºä¸“ç”¨ç½‘ç»œ</span></span>
<span class="line"><span class="token function">docker</span> network create app-net</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. å¯åŠ¨æ•°æ®åº“ï¼ˆä¸æš´éœ²ç«¯å£åˆ°ä¸»æœºï¼Œä»…å®¹å™¨é—´è®¿é—®ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> app-net <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\\</span></span>
<span class="line">  mysql:8.0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. å¯åŠ¨ Web åº”ç”¨</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> web <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> app-net <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">DB_HOST</span><span class="token operator">=</span>mysql <span class="token punctuation">\\</span>          <span class="token comment"># é€šè¿‡å®¹å™¨åè¿æ¥ DB</span></span>
<span class="line">  my-web-app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼š</p><ul><li>æ•°æ®åº“ç«¯å£ï¼ˆ3306ï¼‰<strong>ä¸æš´éœ²åˆ°å…¬ç½‘</strong>ï¼Œæ›´å®‰å…¨</li><li>Web åº”ç”¨é€šè¿‡ <code>DB_HOST=mysql</code> ç›´æ¥è§£æ IP</li><li>ç½‘ç»œéš”ç¦»ï¼šå…¶ä»–å®¹å™¨æ— æ³•è®¿é—® <code>app-net</code> å†…æœåŠ¡</li></ul><hr><h3 id="ç½‘ç»œç®¡ç†å‘½ä»¤é€ŸæŸ¥" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œç®¡ç†å‘½ä»¤é€ŸæŸ¥"><span>ç½‘ç»œç®¡ç†å‘½ä»¤é€ŸæŸ¥</span></a></h3><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>docker network ls</code></td><td>åˆ—å‡ºæ‰€æœ‰ç½‘ç»œ</td></tr><tr><td><code>docker network create my-net</code></td><td>åˆ›å»ºè‡ªå®šä¹‰ bridge ç½‘ç»œ</td></tr><tr><td><code>docker network inspect my-net</code></td><td>æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…ï¼ˆå«å®¹å™¨ IPï¼‰</td></tr><tr><td><code>docker network connect my-net container1</code></td><td>å°†è¿è¡Œä¸­å®¹å™¨åŠ å…¥ç½‘ç»œ</td></tr><tr><td><code>docker network disconnect my-net container1</code></td><td>ä»ç½‘ç»œç§»é™¤å®¹å™¨</td></tr><tr><td><code>docker run --network my-net ...</code></td><td>å¯åŠ¨æ—¶æŒ‡å®šç½‘ç»œ</td></tr></tbody></table><blockquote><p><strong>â€œ<code>create</code> å»ºç½‘ï¼Œ<code>connect</code> åŠ å®¹å™¨ï¼›<code>inspect</code> çœ‹è¯¦æƒ…ï¼Œ<code>prune</code> æ¸…åƒåœ¾ã€‚â€</strong></p></blockquote><hr><h3 id="é«˜çº§åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#é«˜çº§åŠŸèƒ½"><span>é«˜çº§åŠŸèƒ½</span></a></h3><h4 id="_1-æŒ‡å®šå®¹å™¨-ip-éœ€è‡ªå®šä¹‰ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#_1-æŒ‡å®šå®¹å™¨-ip-éœ€è‡ªå®šä¹‰ç½‘ç»œ"><span>1. æŒ‡å®šå®¹å™¨ IPï¼ˆéœ€è‡ªå®šä¹‰ç½‘ç»œï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create <span class="token parameter variable">--subnet</span><span class="token operator">=</span><span class="token number">192.168</span>.100.0/24 my-net</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--network</span> my-net <span class="token parameter variable">--ip</span> <span class="token number">192.168</span>.100.10 nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-é“¾æ¥æ—§å¼å®¹å™¨-å·²åºŸå¼ƒ-ç”¨è‡ªå®šä¹‰ç½‘ç»œæ›¿ä»£" tabindex="-1"><a class="header-anchor" href="#_2-é“¾æ¥æ—§å¼å®¹å™¨-å·²åºŸå¼ƒ-ç”¨è‡ªå®šä¹‰ç½‘ç»œæ›¿ä»£"><span>2. é“¾æ¥æ—§å¼å®¹å™¨ï¼ˆå·²åºŸå¼ƒï¼Œç”¨è‡ªå®šä¹‰ç½‘ç»œæ›¿ä»£ï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># âŒ ä¸æ¨è</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--link</span> db:database web-app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ipv6-æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#_3-ipv6-æ”¯æŒ"><span>3. IPv6 æ”¯æŒ</span></a></h4><p>éœ€åœ¨ Docker daemon é…ç½®ä¸­å¯ç”¨ï¼ˆé»˜è®¤å…³é—­ï¼‰</p><hr><h3 id="æ•…éšœæ’æŸ¥æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#æ•…éšœæ’æŸ¥æŠ€å·§"><span>æ•…éšœæ’æŸ¥æŠ€å·§</span></a></h3><ol><li><p><strong>å®¹å™¨æ— æ³•ä¸Šç½‘ï¼Ÿ</strong></p><ul><li>æ£€æŸ¥ä¸»æœºèƒ½å¦ä¸Šç½‘</li><li>æ£€æŸ¥ DNSï¼š<code>docker exec container cat /etc/resolv.conf</code></li></ul></li><li><p><strong>å®¹å™¨é—´ ping ä¸é€šï¼Ÿ</strong></p><ul><li>æ˜¯å¦åœ¨åŒä¸€è‡ªå®šä¹‰ç½‘ç»œï¼Ÿ</li><li>æ˜¯å¦ç”¨äº†é»˜è®¤ bridgeï¼ˆä¸æ”¯æŒ DNSï¼‰ï¼Ÿ</li></ul></li><li><p><strong>å¤–éƒ¨æ— æ³•è®¿é—®æœåŠ¡ï¼Ÿ</strong></p><ul><li>æ˜¯å¦å¿˜äº† <code>-p</code> ç«¯å£æ˜ å°„ï¼Ÿ</li><li>é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œç«¯å£ï¼Ÿï¼ˆ<code>ufw</code>, <code>firewalld</code>ï¼‰</li></ul></li><li><p><strong>æŸ¥çœ‹ç½‘ç»œæ‹“æ‰‘</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network inspect my-net  <span class="token comment"># æŸ¥çœ‹å®¹å™¨ IP å’Œç½‘å…³</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><hr><h3 id="æ€»ç»“-docker-ç½‘ç»œæœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-docker-ç½‘ç»œæœ€ä½³å®è·µ"><span>æ€»ç»“ï¼šDocker ç½‘ç»œæœ€ä½³å®è·µ</span></a></h3><table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>å•å®¹å™¨å¯¹å¤–æœåŠ¡</strong></td><td><code>docker run -p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ é•œåƒ</code></td></tr><tr><td><strong>å¤šå®¹å™¨åº”ç”¨ï¼ˆWeb+DBï¼‰</strong></td><td>åˆ›å»ºè‡ªå®šä¹‰ bridge ç½‘ç»œï¼Œå®¹å™¨é€šè¿‡åç§°é€šä¿¡</td></tr><tr><td><strong>é«˜æ€§èƒ½/ä½å»¶è¿Ÿ</strong></td><td><code>--network host</code>ï¼ˆä»… Linuxï¼‰</td></tr><tr><td><strong>å®Œå…¨éš”ç¦»ä»»åŠ¡</strong></td><td><code>--network none</code></td></tr><tr><td><strong>è·¨ä¸»æœºé›†ç¾¤</strong></td><td>ä½¿ç”¨ <code>overlay</code>ï¼ˆSwarmï¼‰æˆ– Kubernetes CNI</td></tr></tbody></table>`,69)])])}const c=s(l,[["render",i]]),o=JSON.parse('{"path":"/docs/heimashangcheng/Docker/4.rongqijiantongxin.html","title":"å®¹å™¨é—´é€šä¿¡","lang":"en-US","frontmatter":{"title":"å®¹å™¨é—´é€šä¿¡","date":"2026-1-31"},"headers":[{"level":3,"title":"å››ç§å†…ç½®ç½‘ç»œé©±åŠ¨ï¼ˆNetwork Driversï¼‰","slug":"å››ç§å†…ç½®ç½‘ç»œé©±åŠ¨-network-drivers","link":"#å››ç§å†…ç½®ç½‘ç»œé©±åŠ¨-network-drivers","children":[]},{"level":3,"title":"å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡","slug":"å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡","link":"#å®¹å™¨ä¸å¤–éƒ¨ç½‘ç»œé€šä¿¡","children":[]},{"level":3,"title":"å¤šå®¹å™¨åº”ç”¨ç½‘ç»œç¤ºä¾‹ï¼ˆWeb + DBï¼‰","slug":"å¤šå®¹å™¨åº”ç”¨ç½‘ç»œç¤ºä¾‹-web-db","link":"#å¤šå®¹å™¨åº”ç”¨ç½‘ç»œç¤ºä¾‹-web-db","children":[]},{"level":3,"title":"ç½‘ç»œç®¡ç†å‘½ä»¤é€ŸæŸ¥","slug":"ç½‘ç»œç®¡ç†å‘½ä»¤é€ŸæŸ¥","link":"#ç½‘ç»œç®¡ç†å‘½ä»¤é€ŸæŸ¥","children":[]},{"level":3,"title":"é«˜çº§åŠŸèƒ½","slug":"é«˜çº§åŠŸèƒ½","link":"#é«˜çº§åŠŸèƒ½","children":[]},{"level":3,"title":"æ•…éšœæ’æŸ¥æŠ€å·§","slug":"æ•…éšœæ’æŸ¥æŠ€å·§","link":"#æ•…éšœæ’æŸ¥æŠ€å·§","children":[]},{"level":3,"title":"æ€»ç»“ï¼šDocker ç½‘ç»œæœ€ä½³å®è·µ","slug":"æ€»ç»“-docker-ç½‘ç»œæœ€ä½³å®è·µ","link":"#æ€»ç»“-docker-ç½‘ç»œæœ€ä½³å®è·µ","children":[]}],"git":{"createdTime":1771155821000,"updatedTime":1771155821000,"contributors":[{"name":"SaltFishGC","email":"130335482+SaltFishGC@users.noreply.github.com","commits":1}]},"filePathRelative":"docs/é»‘é©¬å•†åŸ/Docker/4.å®¹å™¨é—´é€šä¿¡.md"}');export{c as comp,o as data};
