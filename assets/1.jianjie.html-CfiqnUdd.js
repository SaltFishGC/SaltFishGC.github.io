import{_ as t,c as r,e,a as n,b as a,d as i,r as p,o as c}from"./app-ifxsENr-.js";const o={},d={href:"https://dockerdocs.xuanyuan.me/install",target:"_blank",rel:"noopener noreferrer"},u={href:"https://cloud.tencent.com/developer/article/2485043",target:"_blank",rel:"noopener noreferrer"},m={href:"https://cr.console.aliyun.com/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"};function v(b,s){const l=p("ExternalLinkIcon");return c(),r("div",null,[s[12]||(s[12]=e(`<h2 id="ç®€å•æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ç®€å•æ¦‚å¿µ"><span>ç®€å•æ¦‚å¿µ</span></a></h2><p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„<strong>å®¹å™¨åŒ–å¹³å°</strong>ï¼Œç”¨äºå°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ï¼ˆå¦‚ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰æ‰“åŒ…æˆä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„<strong>å®¹å™¨ï¼ˆContainerï¼‰</strong>ï¼Œå®ç°â€œä¸€æ¬¡æ„å»ºï¼Œåˆ°å¤„è¿è¡Œâ€ã€‚</p><hr><h3 id="æ ¸å¿ƒç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒç‰¹ç‚¹"><span>æ ¸å¿ƒç‰¹ç‚¹ï¼š</span></a></h3><ul><li><strong>è½»é‡çº§</strong>ï¼šå®¹å™¨å…±äº«ä¸»æœºæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œæ— éœ€åƒè™šæ‹Ÿæœºé‚£æ ·å¯åŠ¨å®Œæ•´æ“ä½œç³»ç»Ÿï¼Œå¯åŠ¨å¿«ã€èµ„æºå ç”¨å°‘ã€‚</li><li><strong>éš”ç¦»æ€§</strong>ï¼šæ¯ä¸ªå®¹å™¨ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚</li><li><strong>å¯ç§»æ¤æ€§</strong>ï¼šé•œåƒå¯åœ¨ä»»ä½•æ”¯æŒ Docker çš„ç¯å¢ƒï¼ˆLinuxã€Windowsã€macOSã€äº‘æœåŠ¡å™¨ï¼‰ä¸­è¿è¡Œã€‚</li><li><strong>æ ‡å‡†åŒ–</strong>ï¼šé€šè¿‡ <code>Dockerfile</code> å®šä¹‰æ„å»ºè¿‡ç¨‹ï¼Œç¡®ä¿å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¸€è‡´ã€‚</li></ul><hr><h3 id="æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ¦‚å¿µ"><span>æ ¸å¿ƒæ¦‚å¿µï¼š</span></a></h3><table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>é•œåƒï¼ˆImageï¼‰</strong></td><td>åªè¯»æ¨¡æ¿ï¼Œç”¨äºåˆ›å»ºå®¹å™¨ï¼ˆå¦‚ <code>nginx:latest</code>ï¼‰</td></tr><tr><td><strong>å®¹å™¨ï¼ˆContainerï¼‰</strong></td><td>é•œåƒçš„è¿è¡Œå®ä¾‹ï¼Œå¯å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ï¼ˆä¸€ä¸ªé•œåƒå¯è¿è¡Œå¤šä¸ªå®¹å™¨ï¼‰</td></tr><tr><td><strong>Dockerfile</strong></td><td>æ–‡æœ¬æ–‡ä»¶ï¼Œå®šä¹‰å¦‚ä½•æ„å»ºé•œåƒ</td></tr><tr><td><strong>ä»“åº“ï¼ˆRegistryï¼‰</strong></td><td>å­˜å‚¨å’Œåˆ†å‘é•œåƒçš„åœ°æ–¹ï¼ˆå¦‚ Docker Hubã€é˜¿é‡Œäº‘ ACRï¼‰</td></tr></tbody></table><hr><h3 id="ç®€å•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç®€å•ç¤ºä¾‹"><span>ç®€å•ç¤ºä¾‹ï¼š</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æ‹‰å– Nginx é•œåƒ</span></span>
<span class="line"><span class="token function">docker</span> pull nginx</span>
<span class="line"></span>
<span class="line"><span class="token comment"># è¿è¡Œå®¹å™¨ï¼ˆåå°ï¼Œç«¯å£æ˜ å°„ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--name</span> my-web nginx</span>
<span class="line"></span>
<span class="line"><span class="token comment"># è®¿é—® http://localhost:8080 å³å¯çœ‹åˆ° Nginx æ¬¢è¿é¡µ</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>âœ… <strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼š <strong>Docker è®©åº”ç”¨åƒé›†è£…ç®±ä¸€æ ·æ ‡å‡†åŒ–æ‰“åŒ…ã€é«˜æ•ˆè¿è¾“ã€éšå¤„éƒ¨ç½²ã€‚</strong></p><h2 id="å®‰è£…ä¸é…ç½®" tabindex="-1"><a class="header-anchor" href="#å®‰è£…ä¸é…ç½®"><span>å®‰è£…ä¸é…ç½®</span></a></h2>`,14)),n("p",null,[s[1]||(s[1]=a("å®‰è£…ï¼š",-1)),n("a",d,[s[0]||(s[0]=a("Docker å®‰è£…æŒ‡å— - å„å¹³å° Docker å®‰è£…æ•™ç¨‹ | Docker ä¸­æ–‡æ–‡æ¡£",-1)),i(l)])]),s[13]||(s[13]=e(`<h3 id="ä¸€é”®è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#ä¸€é”®è„šæœ¬"><span>ä¸€é”®è„šæœ¬</span></a></h3><p>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬å‘½ä»¤å®‰è£…docker</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://github.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh<span class="token operator">|</span> <span class="token function">bash</span> <span class="token parameter variable">-s</span> <span class="token function">docker</span> <span class="token parameter variable">--mirror</span> Aliyun</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¤‡ç”¨å®‰è£…å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://gitee.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh<span class="token operator">|</span> <span class="token function">bash</span> <span class="token parameter variable">-s</span> <span class="token function">docker</span> <span class="token parameter variable">--mirror</span> Aliyun</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨ç»ˆç«¯æ‰§è¡Œ ä¸€è¡Œå‘½ä»¤ï¼Œç¼–è¾‘é…ç½®æ–‡ä»¶</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">  &quot;registry-mirrors&quot;: [&quot;https://docker.m.daocloud.io&quot;,</span>
<span class="line">                       &quot;https://docker.1panel.live&quot;,</span>
<span class="line">                       &quot;https://hub.rat.dev&quot;</span>
<span class="line">                       ]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åé‡æ–°å¯åŠ¨dockeræœåŠ¡ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="yumä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#yumä¸‹è½½"><span>yumä¸‹è½½</span></a></h3><blockquote><p>åˆ é™¤æ—§ç‰ˆï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span></span>
<span class="line">    docker-client <span class="token punctuation">\\</span></span>
<span class="line">    docker-client-latest <span class="token punctuation">\\</span></span>
<span class="line">    docker-common <span class="token punctuation">\\</span></span>
<span class="line">    docker-latest <span class="token punctuation">\\</span></span>
<span class="line">    docker-latest-logrotate <span class="token punctuation">\\</span></span>
<span class="line">    docker-logrotate <span class="token punctuation">\\</span></span>
<span class="line">    docker-engine <span class="token punctuation">\\</span></span>
<span class="line">    docker-selinux </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><ol><li>æ›´æ–°åŒ…ç®¡ç†å·¥å…·</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>æ·»åŠ é˜¿é‡Œäº‘æº</li></ol><p>ç”±äºç½‘ç»œåŸå› ï¼Œå»ºè®®æ·»åŠ å›½å†…é•œåƒæºä»¥åŠ å¿«å®‰è£…é€Ÿåº¦ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">wget</span> <span class="token parameter variable">-O</span> /etc/yum.repos.d/docker-ce.repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>å®‰è£… Docker</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="4"><li>å¯åŠ¨å¹¶è®¾ç½®è‡ªåŠ¨å¯åŠ¨</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span></span>
<span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é…ç½®é•œåƒåŠ é€Ÿ" tabindex="-1"><a class="header-anchor" href="#é…ç½®é•œåƒåŠ é€Ÿ"><span>é…ç½®é•œåƒåŠ é€Ÿ</span></a></h3>`,21)),n("p",null,[s[3]||(s[3]=a("dockerä¸€èˆ¬è¢«å¢™äº†ï¼Œè¦é…ç½®ä¸€ä¸‹å‡ ä¸ªé•œåƒæºåŠ é€Ÿä¸€ä¸‹ï¼š",-1)),n("a",u,[s[2]||(s[2]=a("1æœˆ30æ—¥æ›´æ–° | 2026 æœ€æ–°å¯ç”¨ Docker å›½å†…é•œåƒæºåŠ é€Ÿåˆ—è¡¨-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘",-1)),i(l)])]),s[14]||(s[14]=e(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span><span class="token string">EOF</span>
<span class="line">{</span>
<span class="line">    &quot;registry-mirrors&quot;: [</span>
<span class="line">        &quot;https://docker.xuanyuan.me&quot;,</span>
<span class="line">        &quot;http://hub-mirror.c.163.com&quot;,</span>
<span class="line">        &quot;https://mirrors.tuna.tsinghua.edu.cn&quot;,</span>
<span class="line">        &quot;http://mirrors.sohu.com&quot;,</span>
<span class="line">        &quot;https://ustc-edu-cn.mirror.aliyuncs.com&quot;,</span>
<span class="line">        &quot;https://ccr.ccs.tencentyun.com&quot;,</span>
<span class="line">        &quot;https://docker.m.daocloud.io&quot;,</span>
<span class="line">        &quot;https://docker.awsl9527.cn&quot;</span>
<span class="line">    ]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:left;">æä¾›å•†</th><th style="text-align:left;">é•œåƒåœ°å€</th><th style="text-align:left;">å¤‡æ³¨</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>é˜¿é‡Œäº‘</strong></td><td style="text-align:left;"><code>https://&lt;ä½ çš„ID&gt;.mirror.aliyuncs.com</code></td><td style="text-align:left;">â­ æœ€ç¨³å®šï¼Œéœ€ç™»å½•è·å–ä¸“å±åœ°å€</td></tr><tr><td style="text-align:left;"><strong>è…¾è®¯äº‘</strong></td><td style="text-align:left;"><code>https://mirror.ccs.tencentyun.com</code></td><td style="text-align:left;">æ— éœ€ç™»å½•ï¼Œç›´æ¥å¯ç”¨</td></tr><tr><td style="text-align:left;"><strong>ä¸­ç§‘å¤§</strong></td><td style="text-align:left;"><code>https://docker.mirrors.ustc.edu.cn</code></td><td style="text-align:left;">å…¬å…±é•œåƒï¼Œå…è´¹</td></tr><tr><td style="text-align:left;"><strong>ç½‘æ˜“</strong></td><td style="text-align:left;"><code>https://hub-mirror.c.163.com</code></td><td style="text-align:left;">ç®€å•å¥½ç”¨</td></tr></tbody></table>`,2)),n("blockquote",null,[s[8]||(s[8]=n("p",null,[a("ğŸ’¡ "),n("strong",null,"é˜¿é‡Œäº‘è·å–ä¸“å±åœ°å€æ–¹æ³•"),a("ï¼š")],-1)),n("ol",null,[n("li",null,[s[5]||(s[5]=a("ç™»å½• ",-1)),n("a",m,[s[4]||(s[4]=a("é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡æ§åˆ¶å°",-1)),i(l)])]),s[6]||(s[6]=n("li",null,[a("å·¦ä¾§èœå• â†’ "),n("strong",null,"é•œåƒå·¥å…·"),a(" â†’ "),n("strong",null,"é•œåƒåŠ é€Ÿå™¨")],-1)),s[7]||(s[7]=n("li",null,[a("å¤åˆ¶ä½ çš„ä¸“å±åœ°å€ï¼ˆæ ¼å¼å¦‚ "),n("code",null,"https://xxxxxx.mirror.aliyuncs.com"),a("ï¼‰")],-1))])]),s[15]||(s[15]=e(`<h2 id="åŸºç¡€æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€æ“ä½œ"><span>åŸºç¡€æ“ä½œ</span></a></h2><h3 id="å¯åŠ¨ä¸éªŒè¯-docker-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨ä¸éªŒè¯-docker-æœåŠ¡"><span>å¯åŠ¨ä¸éªŒè¯ Docker æœåŠ¡</span></a></h3><p>åœ¨ä½¿ç”¨ Docker å‰ï¼Œéœ€ç¡®ä¿å…¶åå°æœåŠ¡ï¼ˆ<code>dockerd</code>ï¼‰æ­£åœ¨è¿è¡Œã€‚</p><ul><li><p>Linuxï¼ˆsystemd ç³»ç»Ÿï¼‰ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># å¯åŠ¨ Docker æœåŠ¡</span></span>
<span class="line"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># è®¾ç½®å¼€æœºè‡ªå¯</span></span>
<span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹çŠ¶æ€</span></span>
<span class="line"><span class="token function">sudo</span> systemctl status <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>Windows/macOS</strong>ï¼šå®‰è£… Docker Desktop åï¼Œå¯åŠ¨åº”ç”¨ç¨‹åºå³å¯è‡ªåŠ¨è¿è¡ŒæœåŠ¡ã€‚</p></li></ul><p>éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token parameter variable">--version</span>        <span class="token comment"># æŸ¥çœ‹ç‰ˆæœ¬</span></span>
<span class="line"><span class="token function">docker</span> info             <span class="token comment"># æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</span></span>
<span class="line"><span class="token function">docker</span> run hello-world  <span class="token comment"># è¿è¡Œæµ‹è¯•å®¹å™¨</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="é•œåƒ-image-æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#é•œåƒ-image-æ“ä½œ"><span>é•œåƒï¼ˆImageï¼‰æ“ä½œ</span></a></h3><p>é•œåƒæ˜¯å®¹å™¨çš„æ¨¡æ¿ï¼Œåªè¯»ä¸”å¯å…±äº«ã€‚</p><p>é•œåƒåç§°ï¼š<code>Repository:Version</code> é•œåƒåç§° + ç‰ˆæœ¬å·</p><h4 id="æ‹‰å–é•œåƒ" tabindex="-1"><a class="header-anchor" href="#æ‹‰å–é•œåƒ"><span>æ‹‰å–é•œåƒ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> pull nginx:latest    <span class="token comment"># ä» Docker Hub æ‹‰å–å®˜æ–¹ Nginx é•œåƒ</span></span>
<span class="line"><span class="token function">docker</span> pull ubuntu:22.04    <span class="token comment"># æŒ‡å®šæ ‡ç­¾</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ—å‡ºæœ¬åœ°é•œåƒ" tabindex="-1"><a class="header-anchor" href="#åˆ—å‡ºæœ¬åœ°é•œåƒ"><span>åˆ—å‡ºæœ¬åœ°é•œåƒ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> images               <span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰æœ¬åœ°é•œåƒ</span></span>
<span class="line"><span class="token function">docker</span> image <span class="token function">ls</span>             <span class="token comment"># ç­‰ä»·å‘½ä»¤</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºåŒ…å«ï¼š<code>REPOSITORY</code>ã€<code>TAG</code>ã€<code>IMAGE ID</code>ã€<code>CREATED</code>ã€<code>SIZE</code>ã€‚</p><h4 id="åˆ é™¤é•œåƒ" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤é•œåƒ"><span>åˆ é™¤é•œåƒ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> rmi nginx            <span class="token comment"># åˆ é™¤é•œåƒï¼ˆé€šè¿‡åç§°æˆ– IDï¼‰</span></span>
<span class="line"><span class="token function">docker</span> rmi <span class="token operator">&lt;</span>IMAGE_ID<span class="token operator">&gt;</span>       <span class="token comment"># å¼ºåˆ¶åˆ é™¤ï¼ˆå³ä½¿è¢«å®¹å™¨å¼•ç”¨ï¼‰åŠ  -f</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ„å»ºè‡ªå®šä¹‰é•œåƒ-dockerfile" tabindex="-1"><a class="header-anchor" href="#æ„å»ºè‡ªå®šä¹‰é•œåƒ-dockerfile"><span>æ„å»ºè‡ªå®šä¹‰é•œåƒï¼ˆDockerfileï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åœ¨åŒ…å« Dockerfile çš„ç›®å½•ä¸‹æ‰§è¡Œ</span></span>
<span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> myapp:v1 <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>-t</code>ï¼šæŒ‡å®šé•œåƒåå’Œæ ‡ç­¾</li><li><code>.</code>ï¼šæ„å»ºä¸Šä¸‹æ–‡è·¯å¾„</li></ul><h4 id="è½½å…¥taræ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#è½½å…¥taræ–‡ä»¶"><span>è½½å…¥taræ–‡ä»¶</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> load <span class="token operator">&lt;</span> archive.tar</span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line"><span class="token function">docker</span> load <span class="token parameter variable">-i</span> archive.tar</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>-i</code>ï¼šæŒ‡å®šè¾“å…¥çš„å½’æ¡£æ–‡ä»¶è·¯å¾„ï¼ˆæ¨èæ˜¾å¼ä½¿ç”¨ï¼Œæ›´æ¸…æ™°ï¼‰</li></ul><h4 id="ä¿å­˜æœ¬åœ°é•œåƒä¸ºtar" tabindex="-1"><a class="header-anchor" href="#ä¿å­˜æœ¬åœ°é•œåƒä¸ºtar"><span>ä¿å­˜æœ¬åœ°é•œåƒä¸ºtar</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> save <span class="token parameter variable">-o</span> nginx.tar nginx:latest</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="å®¹å™¨-container-æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨-container-æ“ä½œ"><span>å®¹å™¨ï¼ˆContainerï¼‰æ“ä½œ</span></a></h3><p>å®¹å™¨æ˜¯é•œåƒçš„è¿è¡Œå®ä¾‹ï¼Œæœ‰ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»º â†’ è¿è¡Œ â†’ åœæ­¢ â†’ åˆ é™¤ï¼‰ã€‚</p><h4 id="è¿è¡Œå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œå®¹å™¨"><span>è¿è¡Œå®¹å™¨</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åå°è¿è¡Œï¼ˆ-dï¼‰ï¼Œç«¯å£æ˜ å°„ï¼ˆ-pï¼‰ï¼Œå‘½åï¼ˆ--nameï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--name</span> my-nginx nginx</span>
<span class="line"></span>
<span class="line"><span class="token comment"># äº¤äº’å¼è¿è¡Œï¼ˆ-itï¼‰ï¼Œè¿›å…¥å®¹å™¨ shell</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> ubuntu /bin/bash</span>
<span class="line"></span>
<span class="line"><span class="token comment"># è‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼ˆ--rmï¼‰ï¼Œå¸¸ç”¨äºä¸´æ—¶ä»»åŠ¡</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--rm</span> alpine <span class="token function">ping</span> <span class="token parameter variable">-c</span> <span class="token number">3</span> baidu.com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å®¹å™¨"><span>æŸ¥çœ‹å®¹å™¨</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token function">ps</span>          <span class="token comment"># æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>       <span class="token comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-a</span>  <span class="token comment"># ç­‰ä»·å‘½ä»¤</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åœæ­¢ä¸å¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#åœæ­¢ä¸å¯åŠ¨"><span>åœæ­¢ä¸å¯åŠ¨</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> stop my-nginx    <span class="token comment"># ä¼˜é›…åœæ­¢ï¼ˆå‘é€ SIGTERMï¼‰</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">kill</span> my-nginx    <span class="token comment"># å¼ºåˆ¶ç»ˆæ­¢ï¼ˆå‘é€ SIGKILLï¼‰</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> start my-nginx   <span class="token comment"># å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> restart my-nginx <span class="token comment"># é‡å¯å®¹å™¨</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…³æœºådockerä¼šæœ‰åºstopæ‰€æœ‰æ­£åœ¨runçš„å®¹å™¨ï¼Œå¦‚æƒ³è¦å®¹å™¨åœ¨å¼€æœºåè‡ªåŠ¨é‡å¯ï¼Œåˆ™ä½¿ç”¨å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> update <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped mysql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></blockquote><h4 id="è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨"><span>è¿›å…¥è¿è¡Œä¸­çš„å®¹å™¨</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æ‰§è¡Œå‘½ä»¤ï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> my-nginx /bin/bash</span>
<span class="line"></span>
<span class="line"><span class="token comment"># é™„åŠ åˆ°å®¹å™¨ä¸»è¿›ç¨‹ï¼ˆä¸æ¨èï¼Œé€€å‡ºå¯èƒ½ç»ˆæ­¢å®¹å™¨ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> attach my-nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹æ—¥å¿—"><span>æŸ¥çœ‹æ—¥å¿—</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> logs my-nginx        <span class="token comment"># æŸ¥çœ‹å…¨éƒ¨æ—¥å¿—</span></span>
<span class="line"><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> my-nginx     <span class="token comment"># å®æ—¶è·Ÿè¸ªæ—¥å¿—ï¼ˆç±»ä¼¼ tail -fï¼‰</span></span>
<span class="line"><span class="token function">docker</span> logs <span class="token parameter variable">--tail</span> <span class="token number">50</span> my-nginx  <span class="token comment"># æŸ¥çœ‹æœ€å 50 è¡Œ</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ é™¤å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤å®¹å™¨"><span>åˆ é™¤å®¹å™¨</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token function">rm</span> my-nginx          <span class="token comment"># åˆ é™¤å·²åœæ­¢çš„å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> my-nginx       <span class="token comment"># å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> container prune      <span class="token comment"># åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="è¿è¡Œå®¹å™¨å‘½ä»¤è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œå®¹å™¨å‘½ä»¤è¯¦è§£"><span>è¿è¡Œå®¹å™¨å‘½ä»¤è¯¦è§£</span></a></h3><p>æˆ‘ä»¬ä»¥ <strong>å¯åŠ¨ä¸€ä¸ªå¸¦è‡ªå®šä¹‰é…ç½®çš„ Nginx å®¹å™¨</strong> ä¸ºä¾‹ï¼Œé€æ­¥æ‹†è§£ <code>docker run</code> çš„æ ¸å¿ƒå‚æ•°ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> my-nginx <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--restart</span> unless-stopped <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /host/nginx.conf:/etc/nginx/nginx.conf:ro <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> nginx-logs:/var/log/nginx <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> my-web-net <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--memory</span><span class="token operator">=</span>256m <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--cpus</span><span class="token operator">=</span><span class="token number">0.5</span> <span class="token punctuation">\\</span></span>
<span class="line">  nginx:1.25</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢é€è¡Œè¯¦ç»†è§£é‡Šæ¯ä¸ªå‚æ•°çš„ä½œç”¨ã€åŸç†å’Œæœ€ä½³å®è·µã€‚</p><hr><h4 id="d-åå°è¿è¡Œ-detached-mode" tabindex="-1"><a class="header-anchor" href="#d-åå°è¿è¡Œ-detached-mode"><span><code>-d</code>ï¼šåå°è¿è¡Œï¼ˆDetached Modeï¼‰</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šå®¹å™¨åœ¨åå°è¿è¡Œï¼Œä¸å ç”¨å½“å‰ç»ˆç«¯ã€‚</p></li><li><p>å¯¹æ¯”ï¼š</p><ul><li>ä¸åŠ  <code>-d</code>ï¼šå®¹å™¨å‰å°è¿è¡Œï¼Œå…³é—­ç»ˆç«¯å³åœæ­¢å®¹å™¨ï¼ˆé€‚åˆè°ƒè¯•ï¼‰ã€‚</li><li>åŠ  <code>- d</code>ï¼šå®¹å™¨ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼ˆé€‚åˆæœåŠ¡éƒ¨ç½²ï¼‰ã€‚</li></ul></li><li><p><strong>ç­‰ä»·å†™æ³•</strong>ï¼š<code>--detach</code></p></li><li><p>âœ… <strong>ç”Ÿäº§ç¯å¢ƒå¿…åŠ </strong></p></li></ul><hr><h4 id="name-my-nginx-æŒ‡å®šå®¹å™¨åç§°" tabindex="-1"><a class="header-anchor" href="#name-my-nginx-æŒ‡å®šå®¹å™¨åç§°"><span><code>--name my-nginx</code>ï¼šæŒ‡å®šå®¹å™¨åç§°</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šä¸ºå®¹å™¨åˆ†é…ä¸€ä¸ª<strong>æ˜“è¯»ã€å”¯ä¸€çš„åç§°</strong>ï¼ˆé»˜è®¤æ˜¯éšæœºå­—ç¬¦ä¸²å¦‚ <code>happy_pasteur</code>ï¼‰ã€‚</p></li><li><p>ä¼˜åŠ¿ï¼š</p><ul><li>åç»­æ“ä½œæ›´ç›´è§‚ï¼š<code>docker stop my-nginx</code> è€Œé <code>docker stop a1b2c3d4</code></li><li>å®¹å™¨é—´å¯é€šè¿‡åç§°é€šä¿¡ï¼ˆåœ¨è‡ªå®šä¹‰ç½‘ç»œä¸­ï¼‰</li></ul></li><li><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šåç§°å¿…é¡»å…¨å±€å”¯ä¸€ï¼Œé‡å¤ä¼šæŠ¥é”™ã€‚</p></li></ul><hr><h4 id="restart-unless-stopped-é‡å¯ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#restart-unless-stopped-é‡å¯ç­–ç•¥"><span><code>--restart unless-stopped</code>ï¼šé‡å¯ç­–ç•¥</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šå®šä¹‰å®¹å™¨é€€å‡ºåçš„è‡ªåŠ¨é‡å¯è¡Œä¸ºã€‚</p></li><li><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><table><thead><tr><th>ç­–ç•¥</th><th>è¡Œä¸º</th></tr></thead><tbody><tr><td><code>no</code>ï¼ˆé»˜è®¤ï¼‰</td><td>ä¸è‡ªåŠ¨é‡å¯</td></tr><tr><td><code>always</code></td><td>æ€»æ˜¯é‡å¯ï¼ˆå³ä½¿æ‰‹åŠ¨ <code>docker stop</code>ï¼‰</td></tr><tr><td><code>on-failure[:max-retries]</code></td><td>é0é€€å‡ºç æ—¶é‡å¯</td></tr><tr><td><code>unless-stopped</code></td><td><strong>æ¨èï¼</strong> é™¤éè¢«æ‰‹åŠ¨åœæ­¢ï¼Œå¦åˆ™ always é‡å¯</td></tr></tbody></table></li><li><p>âœ… <strong>ç”Ÿäº§æœåŠ¡å¼ºçƒˆå»ºè®®è®¾ç½®</strong>ï¼Œé¿å…æœåŠ¡å™¨é‡å¯åæœåŠ¡ä¸å¯ç”¨ã€‚</p></li></ul><hr><h4 id="p-8080-80-ç«¯å£æ˜ å°„-publish-ports" tabindex="-1"><a class="header-anchor" href="#p-8080-80-ç«¯å£æ˜ å°„-publish-ports"><span><code>-p 8080:80</code>ï¼šç«¯å£æ˜ å°„ï¼ˆPublish Portsï¼‰</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šå°†<strong>ä¸»æœºç«¯å£</strong>æ˜ å°„åˆ°<strong>å®¹å™¨ç«¯å£</strong>ï¼Œæ ¼å¼ï¼š<code>-p &lt;ä¸»æœºç«¯å£&gt;:&lt;å®¹å™¨ç«¯å£&gt;</code></p></li><li><p>æœ¬ä¾‹å«ä¹‰ï¼š</p><ul><li>ä¸»æœºè®¿é—® <code>http://localhost:8080</code> â†’ æµé‡è½¬å‘åˆ°å®¹å™¨çš„ <code>80</code> ç«¯å£ï¼ˆNginx é»˜è®¤ç«¯å£ï¼‰</li></ul></li><li><p>é«˜çº§ç”¨æ³•ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token parameter variable">-p</span> <span class="token number">80</span>:80                <span class="token comment"># ç›´æ¥ç»‘å®š 80 ç«¯å£ï¼ˆéœ€ rootï¼‰</span></span>
<span class="line"><span class="token parameter variable">-p</span> <span class="token number">127.0</span>.0.1:8080:80    <span class="token comment"># ä»…æœ¬åœ°å›ç¯å¯è®¿é—®ï¼ˆå®‰å…¨ï¼‰</span></span>
<span class="line"><span class="token parameter variable">-p</span> <span class="token number">8080</span>:80/udp          <span class="token comment"># æŒ‡å®šåè®®ï¼ˆTCP/UDPï¼‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå¤šä¸ªå®¹å™¨ä¸èƒ½ç»‘å®šåŒä¸€ä¸»æœºç«¯å£ã€‚</p></li></ul><hr><h4 id="v-host-nginx-conf-etc-nginx-nginx-conf-ro-ç»‘å®šæŒ‚è½½é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#v-host-nginx-conf-etc-nginx-nginx-conf-ro-ç»‘å®šæŒ‚è½½é…ç½®æ–‡ä»¶"><span><code>-v /host/nginx.conf:/etc/nginx/nginx.conf:ro</code>ï¼šç»‘å®šæŒ‚è½½é…ç½®æ–‡ä»¶</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šå°†ä¸»æœºçš„ Nginx é…ç½®æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨å†…ï¼Œå¹¶è®¾ä¸º<strong>åªè¯»</strong>ã€‚</p></li><li><p>å‚æ•°åˆ†è§£ï¼š</p><ul><li><code>/host/nginx.conf</code>ï¼šä¸»æœºä¸Šçš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆ<strong>å¿…é¡»å­˜åœ¨ï¼</strong>ï¼‰</li><li><code>/etc/nginx/nginx.conf</code>ï¼šå®¹å™¨å†…çš„ç›®æ ‡è·¯å¾„</li><li><code>:ro</code>ï¼š<strong>read-only</strong>ï¼Œé˜²æ­¢å®¹å™¨æ„å¤–ä¿®æ”¹é…ç½®</li></ul></li><li><p>âœ… æœ€ä½³å®è·µï¼š</p><ul><li>é…ç½®æ–‡ä»¶ç”¨ Bind Mountï¼ˆä¾¿äºå¤–éƒ¨ç®¡ç†ï¼‰</li><li>åŠ  <code>:ro</code> æå‡å®‰å…¨æ€§</li></ul></li><li><p>âš ï¸ <strong>è‡´å‘½é™·é˜±</strong>ï¼š è‹¥ä¸»æœºæ–‡ä»¶ä¸å­˜åœ¨ï¼ŒDocker ä¼šåˆ›å»ºä¸€ä¸ª<strong>ç©ºç›®å½•</strong>è€Œéæ–‡ä»¶ï¼Œå¯¼è‡´ Nginx å¯åŠ¨å¤±è´¥ï¼</p></li></ul><hr><h4 id="v-nginx-logs-var-log-nginx-ä½¿ç”¨å‘½åå·æŒä¹…åŒ–æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#v-nginx-logs-var-log-nginx-ä½¿ç”¨å‘½åå·æŒä¹…åŒ–æ—¥å¿—"><span><code>-v nginx-logs:/var/log/nginx</code>ï¼šä½¿ç”¨å‘½åå·æŒä¹…åŒ–æ—¥å¿—</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šå°†å®¹å™¨æ—¥å¿—ç›®å½•æŒ‚è½½åˆ° Docker ç®¡ç†çš„<strong>å‘½åå·</strong> <code>nginx-logs</code>ã€‚</p></li><li><p>ä¼˜åŠ¿ï¼š</p><ul><li>æ—¥å¿—æ•°æ®ä¸å®¹å™¨ç”Ÿå‘½å‘¨æœŸè§£è€¦ï¼ˆåˆ å®¹å™¨ä¸ä¸¢æ—¥å¿—ï¼‰</li><li>å·ç”± Docker ç®¡ç†ï¼Œè·¯å¾„ç»Ÿä¸€ï¼ˆ<code>/var/lib/docker/volumes/nginx-logs/_data</code>ï¼‰</li><li>å¯è¢«å…¶ä»–å®¹å™¨å…±äº«æˆ–å¤‡ä»½</li></ul></li><li><p>âœ… <strong>å¯¹æ¯” Bind Mount</strong>ï¼š Volume æ›´é€‚åˆ<strong>ç”Ÿäº§ç¯å¢ƒæŒä¹…åŒ–æ•°æ®</strong>ï¼ŒBind Mount æ›´é€‚åˆ<strong>å¼€å‘æ—¶æŒ‚è½½ä»£ç </strong>ã€‚</p></li></ul><hr><h4 id="network-my-web-net-æŒ‡å®šè‡ªå®šä¹‰ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#network-my-web-net-æŒ‡å®šè‡ªå®šä¹‰ç½‘ç»œ"><span><code>--network my-web-net</code>ï¼šæŒ‡å®šè‡ªå®šä¹‰ç½‘ç»œ</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šå°†å®¹å™¨åŠ å…¥åä¸º <code>my-web-net</code> çš„ Docker ç½‘ç»œã€‚</p></li><li><p>å‰æ</p><p>ï¼šéœ€æå‰åˆ›å»ºç½‘ç»œï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create my-web-net</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>ä¼˜åŠ¿ï¼š</p><ul><li>å®¹å™¨é—´å¯é€šè¿‡<strong>å®¹å™¨å DNS è§£æ</strong>é€šä¿¡ï¼ˆå¦‚ <code>ping my-nginx</code>ï¼‰</li><li>éš”ç¦»æ€§æ›´å¥½ï¼ˆé»˜è®¤ bridge ç½‘ç»œæ‰€æœ‰å®¹å™¨äº’é€šï¼‰</li></ul></li><li><p>âœ… <strong>å¤šå®¹å™¨åº”ç”¨ï¼ˆå¦‚ Web + DBï¼‰å¿…é¡»ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œ</strong></p></li></ul><hr><h4 id="memory-256m-å’Œ-cpus-0-5-èµ„æºé™åˆ¶" tabindex="-1"><a class="header-anchor" href="#memory-256m-å’Œ-cpus-0-5-èµ„æºé™åˆ¶"><span><code>--memory=256m</code> å’Œ <code>--cpus=0.5</code>ï¼šèµ„æºé™åˆ¶</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šé™åˆ¶å®¹å™¨ä½¿ç”¨çš„ç³»ç»Ÿèµ„æºï¼Œé˜²æ­¢å•ä¸ªå®¹å™¨è€—å°½ä¸»æœºèµ„æºã€‚</p></li><li><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>--memory=256m</code>ï¼šæœ€å¤šä½¿ç”¨ 256MB å†…å­˜ï¼ˆè¶…é™ä¼šè¢« OOM Killï¼‰</li><li><code>--cpus=0.5</code>ï¼šæœ€å¤šä½¿ç”¨ 0.5 ä¸ª CPU æ ¸å¿ƒï¼ˆå³ 50% å•æ ¸æ€§èƒ½ï¼‰</li></ul></li><li><p>å•ä½æ”¯æŒï¼š</p><ul><li>å†…å­˜ï¼š<code>b</code>, <code>k</code>, <code>m</code>, <code>g</code>ï¼ˆå¦‚ <code>512m</code>ï¼‰</li><li>CPUï¼šå°æ•°ï¼ˆ<code>0.5</code>ï¼‰æˆ–æ¯«æ ¸ï¼ˆ<code>500m</code> è¡¨ç¤º 0.5 æ ¸ï¼‰</li></ul></li><li><p>âœ… <strong>ç”Ÿäº§ç¯å¢ƒå¿…å¤‡</strong>ï¼Œå®ç°å¤šç§Ÿæˆ·èµ„æºéš”ç¦»ã€‚</p></li></ul><hr><h4 id="nginx-1-25-é•œåƒåç§°ä¸æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#nginx-1-25-é•œåƒåç§°ä¸æ ‡ç­¾"><span><code>nginx:1.25</code>ï¼šé•œåƒåç§°ä¸æ ‡ç­¾</span></a></h4><ul><li><p><strong>ä½œç”¨</strong>ï¼šæŒ‡å®šè¦è¿è¡Œçš„é•œåƒã€‚</p></li><li><p>æ ¼å¼ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">[ä»“åº“/][é•œåƒå][:æ ‡ç­¾]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>nginx</code>ï¼šDocker Hub å®˜æ–¹é•œåƒ</li><li><code>:1.25</code>ï¼šæ˜ç¡®æŒ‡å®šç‰ˆæœ¬ï¼ˆ<strong>ç¦æ­¢ç”¨ latestï¼</strong>ï¼‰</li></ul></li><li><p>âœ… æœ€ä½³å®è·µï¼š</p><ul><li>æ°¸è¿œæŒ‡å®šæ˜ç¡®æ ‡ç­¾ï¼ˆå¦‚ <code>1.25</code> è€Œé <code>latest</code>ï¼‰</li></ul></li><li><p>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç§æœ‰ä»“åº“é•œåƒï¼ˆå¦‚ <code>harbor.example.com/nginx:1.25</code>ï¼‰</p></li></ul><hr><h4 id="è¡¥å……-å…¶ä»–é«˜é¢‘å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-å…¶ä»–é«˜é¢‘å‚æ•°"><span>è¡¥å……ï¼šå…¶ä»–é«˜é¢‘å‚æ•°</span></a></h4><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>-e KEY=VALUE</code></td><td>è®¾ç½®ç¯å¢ƒå˜é‡</td><td><code>-e TZ=Asia/Shanghai</code>(æ ¹æ®é•œåƒçš„è¯´æ˜æ–‡æ¡£æŒ‡å®škvé…ç½®)</td></tr><tr><td><code>--env-file .env</code></td><td>ä»æ–‡ä»¶åŠ è½½ç¯å¢ƒå˜é‡</td><td><code>--env-file ./prod.env</code></td></tr><tr><td><code>--user 1000:1000</code></td><td>æŒ‡å®šå®¹å™¨å†…è¿è¡Œç”¨æˆ·</td><td>é¿å… root æƒé™é£é™©</td></tr><tr><td><code>--rm</code></td><td>å®¹å™¨åœæ­¢åè‡ªåŠ¨åˆ é™¤</td><td>é€‚åˆä¸´æ—¶ä»»åŠ¡</td></tr><tr><td><code>--entrypoint</code></td><td>è¦†ç›–é•œåƒé»˜è®¤å¯åŠ¨å‘½ä»¤</td><td><code>--entrypoint /bin/sh</code></td></tr></tbody></table><hr><h3 id="æ•°æ®ç®¡ç†-å·-volume-ä¸ç»‘å®šæŒ‚è½½-bind-mount" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç®¡ç†-å·-volume-ä¸ç»‘å®šæŒ‚è½½-bind-mount"><span>æ•°æ®ç®¡ç†ï¼šå·ï¼ˆVolumeï¼‰ä¸ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰</span></a></h3><p>å®¹å™¨é»˜è®¤æ˜¯ä¸´æ—¶çš„ï¼Œæ•°æ®éšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚Docker æä¾›ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼š</p><h4 id="ä½¿ç”¨-volume-æ¨è" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-volume-æ¨è"><span>ä½¿ç”¨ Volumeï¼ˆæ¨èï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åˆ›å»ºå‘½åå·</span></span>
<span class="line"><span class="token function">docker</span> volume create my-vol</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŒ‚è½½å·åˆ°å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> my-vol:/app/data nginx</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹å·</span></span>
<span class="line"><span class="token function">docker</span> volume <span class="token function">ls</span></span>
<span class="line"><span class="token function">docker</span> volume inspect my-vol</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ é™¤å·</span></span>
<span class="line"><span class="token function">docker</span> volume <span class="token function">rm</span> my-vol</span>
<span class="line"><span class="token function">docker</span> volume prune  <span class="token comment"># æ¸…ç†æœªä½¿ç”¨çš„å·</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä½¿ç”¨ç»‘å®šæŒ‚è½½-bind-mount" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ç»‘å®šæŒ‚è½½-bind-mount"><span>ä½¿ç”¨ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰</span></a></h4><p>å°†ä¸»æœºç›®å½•ç›´æ¥æŒ‚è½½åˆ°å®¹å™¨ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> /host/path:/container/path nginx</span>
<span class="line"><span class="token comment"># ç¤ºä¾‹ï¼šæŒ‚è½½å½“å‰ç›®å½•åˆ°å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/app alpine <span class="token function">ls</span> /app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ğŸ’¡ <strong>åŒºåˆ«</strong>ï¼š</p><ul><li><strong>Volume</strong>ï¼šç”± Docker ç®¡ç†ï¼Œè·¨å¹³å°å…¼å®¹æ€§å¥½ï¼Œé€‚åˆç”Ÿäº§</li><li><strong>Bind Mount</strong>ï¼šç›´æ¥æš´éœ²ä¸»æœºè·¯å¾„ï¼Œé€‚åˆå¼€å‘è°ƒè¯•</li></ul></blockquote><hr><h3 id="ç½‘ç»œ-network-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œ-network-åŸºç¡€"><span>ç½‘ç»œï¼ˆNetworkï¼‰åŸºç¡€</span></a></h3><p>Docker é»˜è®¤æä¾›ä¸‰ç§ç½‘ç»œé©±åŠ¨ï¼š<code>bridge</code>ï¼ˆé»˜è®¤ï¼‰ã€<code>host</code>ã€<code>none</code>ã€‚</p><h4 id="æŸ¥çœ‹ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹ç½‘ç»œ"><span>æŸ¥çœ‹ç½‘ç»œ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network <span class="token function">ls</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ"><span>åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create my-net</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="å®¹å™¨è¿æ¥åˆ°è‡ªå®šä¹‰ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨è¿æ¥åˆ°è‡ªå®šä¹‰ç½‘ç»œ"><span>å®¹å™¨è¿æ¥åˆ°è‡ªå®šä¹‰ç½‘ç»œ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--network</span> my-net <span class="token parameter variable">--name</span> app1 nginx</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--network</span> my-net alpine <span class="token function">ping</span> app1  <span class="token comment"># å¯é€šè¿‡å®¹å™¨åé€šä¿¡</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼šè‡ªå®šä¹‰ç½‘ç»œæ”¯æŒ<strong>è‡ªåŠ¨ DNS è§£æ</strong>ï¼ˆå®¹å™¨åå³ hostnameï¼‰</p></blockquote><h4 id="ç«¯å£æ˜ å°„-p" tabindex="-1"><a class="header-anchor" href="#ç«¯å£æ˜ å°„-p"><span>ç«¯å£æ˜ å°„ï¼ˆ-pï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token parameter variable">-p</span> <span class="token number">8080</span>:80        <span class="token comment"># ä¸»æœº8080 â†’ å®¹å™¨80</span></span>
<span class="line"><span class="token parameter variable">-p</span> <span class="token number">127.0</span>.0.1:8080:80  <span class="token comment"># ä»…ç»‘å®šæœ¬åœ°å›ç¯</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="æ¸…ç†ä¸ç»´æŠ¤" tabindex="-1"><a class="header-anchor" href="#æ¸…ç†ä¸ç»´æŠ¤"><span>æ¸…ç†ä¸ç»´æŠ¤</span></a></h3><p>é¿å…ç£ç›˜è¢«æ— ç”¨èµ„æºå æ»¡ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨</span></span>
<span class="line"><span class="token function">docker</span> container prune</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ é™¤æ‰€æœ‰æœªè¢«ä½¿ç”¨çš„é•œåƒ</span></span>
<span class="line"><span class="token function">docker</span> image prune <span class="token parameter variable">-a</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„å·</span></span>
<span class="line"><span class="token function">docker</span> volume prune</span>
<span class="line"></span>
<span class="line"><span class="token comment"># ä¸€é”®æ¸…ç†ï¼ˆè°¨æ…ï¼ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> system prune <span class="token parameter variable">-a</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>âš ï¸ <code>docker system prune -a</code> ä¼šåˆ é™¤ï¼š</p><ul><li>æ‰€æœ‰åœæ­¢çš„å®¹å™¨</li><li>æ‰€æœ‰æœªè¢«å®¹å™¨å¼•ç”¨çš„é•œåƒ</li><li>æ‰€æœ‰æœªä½¿ç”¨çš„ç½‘ç»œ</li><li>æ‰€æœ‰æœªä½¿ç”¨çš„æ„å»ºç¼“å­˜</li></ul></blockquote><hr><h3 id="å¸¸ç”¨ç»„åˆå‘½ä»¤ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨ç»„åˆå‘½ä»¤ç¤ºä¾‹"><span>å¸¸ç”¨ç»„åˆå‘½ä»¤ç¤ºä¾‹</span></a></h3><ol><li><p><strong>å¿«é€Ÿå¯åŠ¨å¹¶è¿›å…¥ Ubuntu</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> ubuntu:22.04 <span class="token function">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>è¿è¡Œ MySQL å¹¶æŒä¹…åŒ–æ•°æ®</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> mysql-db <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> mysql-data:/var/lib/mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token punctuation">\\</span></span>
<span class="line">  mysql:8.0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æŸ¥çœ‹å®¹å™¨ IP åœ°å€</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> inspect my-nginx <span class="token operator">|</span> <span class="token function">grep</span> IPAddress</span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line"><span class="token function">docker</span> inspect <span class="token parameter variable">-f</span> <span class="token string">&#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39;</span> my-nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h2 id="æŒ‚è½½" tabindex="-1"><a class="header-anchor" href="#æŒ‚è½½"><span>æŒ‚è½½</span></a></h2><h3 id="æŒ‚è½½-mounting-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æŒ‚è½½-mounting-æ¦‚è¿°"><span>æŒ‚è½½ï¼ˆMountingï¼‰æ¦‚è¿°</span></a></h3><p>åœ¨ Docker ä¸­ï¼Œ<strong>æŒ‚è½½ï¼ˆMountï¼‰</strong> æ˜¯æŒ‡å°†ä¸»æœºï¼ˆHostï¼‰ä¸Šçš„æ–‡ä»¶æˆ–ç›®å½•ä¸å®¹å™¨ï¼ˆContainerï¼‰å†…çš„è·¯å¾„è¿›è¡Œå…³è”ï¼Œä½¿å¾—å®¹å™¨å¯ä»¥è¯»å†™è¿™äº›æ•°æ®ã€‚ Docker æä¾›ä¸‰ç§æŒ‚è½½æ–¹å¼ï¼š</p><ul><li><strong>Bind Mountsï¼ˆç»‘å®šæŒ‚è½½ï¼‰</strong>ï¼šç›´æ¥æ˜ å°„ä¸»æœºä»»æ„è·¯å¾„ã€‚</li><li><strong>Volumesï¼ˆå·ï¼‰</strong>ï¼šç”± Docker ç®¡ç†çš„å­˜å‚¨ï¼Œä½äº Docker ä¸“å±ç›®å½•ï¼ˆå¦‚ <code>/var/lib/docker/volumes/</code>ï¼‰ã€‚</li><li><strong>tmpfs Mounts</strong>ï¼šä»…å­˜äºå†…å­˜ï¼Œå®¹å™¨åœæ­¢åè‡ªåŠ¨æ¸…é™¤ï¼ˆä»… Linux æ”¯æŒï¼‰ã€‚</li></ul><blockquote><p>âœ… <strong>æ ¸å¿ƒç›®çš„</strong>ï¼šå®ç°<strong>æ•°æ®æŒä¹…åŒ–</strong>ã€<strong>é…ç½®å…±äº«</strong>ã€<strong>å¼€å‘çƒ­æ›´æ–°</strong>ã€‚</p><p><code>docker stop</code> â†’ <code>docker start</code>æŒ‚è½½çš„æ–‡ä»¶/ç›®å½•<strong>è‡ªåŠ¨åŒæ­¥ä¸»æœºå½“å‰æœ€æ–°å†…å®¹</strong>ï¼Œä¸å¿…é‡æ–°<code>docker rm</code>äº†å†<code>docker run</code>ã€‚</p><ul><li>å¦‚æœåªæ”¹äº†æŒ‚è½½çš„ä»£ç /é…ç½® â†’ åªéœ€ <code>docker restart</code> å®¹å™¨ï¼ˆæˆ–è®©åº”ç”¨ reloadï¼‰</li><li>å¦‚æœæ”¹äº†é•œåƒï¼ˆå¦‚å‡çº§ Nginx ç‰ˆæœ¬ï¼‰â†’ å¿…é¡» <code>rm + run</code> æˆ–ç”¨æ»šåŠ¨æ›´æ–°</li></ul></blockquote><hr><h3 id="ç»‘å®šæŒ‚è½½-bind-mounts" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šæŒ‚è½½-bind-mounts"><span>ç»‘å®šæŒ‚è½½ï¼ˆBind Mountsï¼‰</span></a></h3><p>ç»‘å®šæŒ‚è½½å°†<strong>ä¸»æœºä¸Šçš„ä»»æ„æ–‡ä»¶æˆ–ç›®å½•</strong>ç›´æ¥æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚</p><h4 id="åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¯­æ³•"><span>åŸºæœ¬è¯­æ³•</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> /host/path:/container/path <span class="token punctuation">[</span>é•œåƒ<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># æˆ–ä½¿ç”¨ --mountï¼ˆæ›´æ˜ç¡®ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span>/host/path,target<span class="token operator">=</span>/container/path <span class="token punctuation">[</span>é•œåƒ<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç¤ºä¾‹-æŒ‚è½½ä»£ç ç›®å½•è¿›è¡Œå¼€å‘" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-æŒ‚è½½ä»£ç ç›®å½•è¿›è¡Œå¼€å‘"><span>ç¤ºä¾‹ï¼šæŒ‚è½½ä»£ç ç›®å½•è¿›è¡Œå¼€å‘</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># å°†å½“å‰é¡¹ç›®ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ /app</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/app node:18 <span class="token function">sh</span></span>
<span class="line"><span class="token comment"># åœ¨å®¹å™¨å†…ä¿®æ”¹ /app ä¸‹çš„æ–‡ä»¶ï¼Œä¸»æœºæ–‡ä»¶åŒæ­¥æ›´æ–°</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹"><span>ç‰¹ç‚¹</span></a></h4><table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>è·¯å¾„çµæ´»ï¼Œå¯æŒ‚è½½ä»»æ„ä½ç½®</td><td>ä¾èµ–ä¸»æœºç›®å½•ç»“æ„ï¼Œç§»æ¤æ€§å·®</td></tr><tr><td>é€‚åˆå¼€å‘è°ƒè¯•ï¼ˆå®æ—¶åŒæ­¥ï¼‰</td><td>å®‰å…¨é£é™©é«˜ï¼ˆå¯èƒ½æš´éœ²æ•æ„Ÿè·¯å¾„ï¼‰</td></tr><tr><td>æ— éœ€é¢„å…ˆåˆ›å»º</td><td>ä¸»æœºè·¯å¾„ä¸å­˜åœ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºä¸º<strong>ç›®å½•</strong>ï¼ˆæ˜“å‡ºé”™ï¼ï¼‰</td></tr></tbody></table><blockquote><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š è‹¥ä¸»æœºè·¯å¾„ä¸å­˜åœ¨ï¼ŒDocker ä¼š<strong>é™é»˜åˆ›å»ºä¸€ä¸ªç›®å½•</strong>è€ŒéæŠ¥é”™ã€‚ä¾‹å¦‚ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> /nonexist:/data alpine <span class="token function">touch</span> /data/file</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ­¤æ—¶ <code>/nonexist</code> åœ¨ä¸»æœºä¸Šä¼šè¢«åˆ›å»ºä¸ºç›®å½•ï¼Œè€Œéä½ æœŸæœ›çš„æ–‡ä»¶ï¼</p></blockquote><hr><h3 id="æ•°æ®å·-volumes" tabindex="-1"><a class="header-anchor" href="#æ•°æ®å·-volumes"><span>æ•°æ®å·ï¼ˆVolumesï¼‰</span></a></h3><p><strong>Volume æ˜¯ Docker æ¨èçš„æŒä¹…åŒ–æ–¹å¼</strong>ï¼Œç”± Docker å¼•æ“ç®¡ç†ï¼Œä¸ä¸»æœºæ–‡ä»¶ç³»ç»Ÿè§£è€¦ã€‚</p><h4 id="åˆ›å»ºä¸ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸ä½¿ç”¨"><span>åˆ›å»ºä¸ä½¿ç”¨</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æ–¹å¼1ï¼šè¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºåŒ¿åå·</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> /data nginx  <span class="token comment"># å·åéšæœºç”Ÿæˆ</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ–¹å¼2ï¼šæ˜¾å¼åˆ›å»ºå‘½åå·ï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span class="token function">docker</span> volume create my-vol</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŒ‚è½½å‘½åå·</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> my-vol:/app/data nginx</span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>volume,source<span class="token operator">=</span>my-vol,target<span class="token operator">=</span>/app/data nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹ä¸ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹ä¸ç®¡ç†"><span>æŸ¥çœ‹ä¸ç®¡ç†</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åˆ—å‡ºæ‰€æœ‰å·</span></span>
<span class="line"><span class="token function">docker</span> volume <span class="token function">ls</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹å·è¯¦æƒ…ï¼ˆå«ä¸»æœºå®é™…è·¯å¾„ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> volume inspect my-vol</span>
<span class="line"><span class="token comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span></span>
<span class="line"><span class="token comment"># &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/my-vol/_data&quot; ï¼ˆåç»­åˆ°æŒ‡å®šä¸ºæ­¢ä¿®æ”¹ä»£ç é…ç½®å³å¯ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ é™¤æœªä½¿ç”¨çš„å·</span></span>
<span class="line"><span class="token function">docker</span> volume <span class="token function">rm</span> my-vol</span>
<span class="line"><span class="token function">docker</span> volume prune  <span class="token comment"># æ¸…ç†æ‰€æœ‰æœªè¢«å®¹å™¨å¼•ç”¨çš„å·</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç‰¹ç‚¹-1" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹-1"><span>ç‰¹ç‚¹</span></a></h4><table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>è·¨å¹³å°å…¼å®¹ï¼ˆWindows/Linux/macOS è¡Œä¸ºä¸€è‡´ï¼‰</td><td>æ— æ³•ç›´æ¥æŒ‡å®šä¸»æœºè·¯å¾„</td></tr><tr><td>å®‰å…¨ï¼ˆDocker ç®¡ç†æƒé™å’Œä½ç½®ï¼‰</td><td>éœ€é€šè¿‡ <code>docker volume inspect</code> æ‰¾å®é™…è·¯å¾„</td></tr><tr><td>æ”¯æŒ Volume Driversï¼ˆå¦‚äº‘å­˜å‚¨æ’ä»¶ï¼‰</td><td>ä¸é€‚åˆéœ€è¦ç²¾ç¡®æ§åˆ¶ä¸»æœºè·¯å¾„çš„åœºæ™¯</td></tr><tr><td>å¯å¤‡ä»½ã€è¿ç§»ã€å…±äº«</td><td>â€”</td></tr></tbody></table><blockquote><p>ğŸ’¡ <strong>æœ€ä½³å®è·µ</strong>ï¼š</p><ul><li><strong>ç”Ÿäº§ç¯å¢ƒç”¨ Volume</strong></li><li><strong>å¼€å‘ç¯å¢ƒå¯ç”¨ Bind Mount</strong></li></ul></blockquote><hr><h3 id="tmpfs-æŒ‚è½½-ä»…-linux" tabindex="-1"><a class="header-anchor" href="#tmpfs-æŒ‚è½½-ä»…-linux"><span>tmpfs æŒ‚è½½ï¼ˆä»… Linuxï¼‰</span></a></h3><p>å°†æ•°æ®æŒ‚è½½åˆ°<strong>å†…å­˜</strong>ä¸­ï¼Œå®¹å™¨åœæ­¢åè‡ªåŠ¨æ¸…é™¤ï¼Œé€‚ç”¨äºæ•æ„Ÿä¸´æ—¶æ•°æ®ï¼ˆå¦‚å¯†ç ã€ä¼šè¯ï¼‰ã€‚</p><h4 id="è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#è¯­æ³•"><span>è¯­æ³•</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--tmpfs</span> /tmp/cache nginx</span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>tmpfs,destination<span class="token operator">=</span>/tmp/cache nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®é€‰é¡¹-é«˜çº§" tabindex="-1"><a class="header-anchor" href="#é…ç½®é€‰é¡¹-é«˜çº§"><span>é…ç½®é€‰é¡¹ï¼ˆé«˜çº§ï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--tmpfs</span> /run:rw,noexec,nosuid,size<span class="token operator">=</span>65536k nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¸¸ç”¨å‚æ•°ï¼š</p><ul><li><code>size</code>ï¼šé™åˆ¶å¤§å°ï¼ˆé»˜è®¤ 50% å†…å­˜ï¼‰</li><li><code>mode</code>ï¼šè®¾ç½®æƒé™ï¼ˆå¦‚ <code>mode=1777</code>ï¼‰</li><li><code>noexec</code> / <code>nosuid</code>ï¼šå®‰å…¨é™åˆ¶</li></ul><blockquote><p>âš ï¸ <strong>é™åˆ¶</strong>ï¼š</p><ul><li>ä»…æ”¯æŒ Linux</li><li>ä¸é€‚ç”¨äº Windows/macOSï¼ˆDocker Desktop ä¼šæ¨¡æ‹Ÿï¼Œä½†éçœŸæ­£ tmpfsï¼‰</li></ul></blockquote><hr><h3 id="æŒ‚è½½é€‰é¡¹è¯¦è§£-mount-vs-v" tabindex="-1"><a class="header-anchor" href="#æŒ‚è½½é€‰é¡¹è¯¦è§£-mount-vs-v"><span>æŒ‚è½½é€‰é¡¹è¯¦è§£ï¼ˆ--mount vs -vï¼‰</span></a></h3><p>Docker æ”¯æŒä¸¤ç§æŒ‚è½½è¯­æ³•ï¼š<strong><code>-v</code>ï¼ˆç®€å†™ï¼‰</strong> å’Œ <strong><code>--mount</code>ï¼ˆè¯¦ç»†ï¼‰</strong>ã€‚</p><table><thead><tr><th>ç‰¹æ€§</th><th><code>-v</code> / <code>--volume</code></th><th><code>--mount</code></th></tr></thead><tbody><tr><td>è¯­æ³•ç®€æ´æ€§</td><td>âœ… ç®€æ´</td><td>âŒ å†—é•¿</td></tr><tr><td>å¯è¯»æ€§</td><td>âš ï¸ å‚æ•°é¡ºåºæ˜“æ··æ·†</td><td>âœ… æ˜ç¡®æŒ‡å®š <code>type,source,target</code></td></tr><tr><td>åŠŸèƒ½å®Œæ•´æ€§</td><td>âŒ ä¸æ”¯æŒ tmpfs é€‰é¡¹</td><td>âœ… æ”¯æŒæ‰€æœ‰æŒ‚è½½ç±»å‹å’Œé€‰é¡¹</td></tr><tr><td>æ¨èåœºæ™¯</td><td>å¿«é€Ÿå‘½ä»¤è¡Œæ“ä½œ</td><td>è„šæœ¬ã€Compose æ–‡ä»¶ã€å¤æ‚é…ç½®</td></tr></tbody></table><h4 id="å¯¹æ¯”ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”ç¤ºä¾‹"><span>å¯¹æ¯”ç¤ºä¾‹</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Bind Mountï¼ˆç­‰ä»·ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> /host:/container alpine</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span>/host,target<span class="token operator">=</span>/container alpine</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Volumeï¼ˆç­‰ä»·ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> myvol:/data alpine</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>volume,source<span class="token operator">=</span>myvol,target<span class="token operator">=</span>/data alpine</span>
<span class="line"></span>
<span class="line"><span class="token comment"># tmpfsï¼ˆåªèƒ½ç”¨ --mountï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>tmpfs,target<span class="token operator">=</span>/tmp alpine</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ğŸ“Œ <strong>å®˜æ–¹å»ºè®®</strong>ï¼š</p><ul><li>æ–°ç”¨æˆ·ä¼˜å…ˆä½¿ç”¨ <code>--mount</code>ï¼ˆæ›´æ¸…æ™°ï¼‰</li><li>è„šæœ¬å’Œ <code>docker-compose.yml</code> ä¸­å¿…é¡»ç”¨ <code>--mount</code> é£æ ¼</li></ul></blockquote><hr><h3 id="æŒ‚è½½å¸¸è§åœºæ™¯ä¸æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#æŒ‚è½½å¸¸è§åœºæ™¯ä¸æœ€ä½³å®è·µ"><span>æŒ‚è½½å¸¸è§åœºæ™¯ä¸æœ€ä½³å®è·µ</span></a></h3><h4 id="åœºæ™¯-1-æŒä¹…åŒ–æ•°æ®åº“æ•°æ®" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-1-æŒä¹…åŒ–æ•°æ®åº“æ•°æ®"><span>åœºæ™¯ 1ï¼šæŒä¹…åŒ–æ•°æ®åº“æ•°æ®</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># ä½¿ç”¨ Volumeï¼ˆç”Ÿäº§æ¨èï¼‰</span></span>
<span class="line"><span class="token function">docker</span> volume create mysql-data</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> mysql-data:/var/lib/mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\\</span></span>
<span class="line">  mysql:8.0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åœºæ™¯-2-å¼€å‘æ—¶çƒ­æ›´æ–°ä»£ç " tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-2-å¼€å‘æ—¶çƒ­æ›´æ–°ä»£ç "><span>åœºæ™¯ 2ï¼šå¼€å‘æ—¶çƒ­æ›´æ–°ä»£ç </span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># ä½¿ç”¨ Bind Mountï¼ˆå¼€å‘æ¨èï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/src:/app/src node:18 <span class="token function">npm</span> start</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åœºæ™¯-3-æŒ‚è½½é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-3-æŒ‚è½½é…ç½®æ–‡ä»¶"><span>åœºæ™¯ 3ï¼šæŒ‚è½½é…ç½®æ–‡ä»¶</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># æŒ‚è½½å•ä¸ªæ–‡ä»¶ï¼ˆæ³¨æ„ï¼šä¸»æœºæ–‡ä»¶å¿…é¡»å­˜åœ¨ï¼ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/nginx.conf:/etc/nginx/nginx.conf nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>âš ï¸ <strong>é‡è¦</strong>ï¼š æŒ‚è½½<strong>å•ä¸ªæ–‡ä»¶</strong>æ—¶ï¼Œè‹¥ä¸»æœºæ–‡ä»¶ä¸å­˜åœ¨ï¼ŒDocker ä¼šåˆ›å»ºä¸€ä¸ª<strong>ç›®å½•</strong>è€Œéæ–‡ä»¶ï¼Œå¯¼è‡´å®¹å™¨å¯åŠ¨å¤±è´¥ï¼</p></blockquote><h4 id="åœºæ™¯-4-åªè¯»æŒ‚è½½-å®‰å…¨åŠ å›º" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-4-åªè¯»æŒ‚è½½-å®‰å…¨åŠ å›º"><span>åœºæ™¯ 4ï¼šåªè¯»æŒ‚è½½ï¼ˆå®‰å…¨åŠ å›ºï¼‰</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># é˜²æ­¢å®¹å™¨ä¿®æ”¹ä¸»æœºæ–‡ä»¶</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> /host/config:/app/config:ro nginx</span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span>/host/config,target<span class="token operator">=</span>/app/config,readonly nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åœºæ™¯-5-å¤šå®¹å™¨å…±äº«æ•°æ®" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-5-å¤šå®¹å™¨å…±äº«æ•°æ®"><span>åœºæ™¯ 5ï¼šå¤šå®¹å™¨å…±äº«æ•°æ®</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åˆ›å»ºå…±äº«å·</span></span>
<span class="line"><span class="token function">docker</span> volume create shared-data</span>
<span class="line"></span>
<span class="line"><span class="token comment"># å®¹å™¨ A å†™å…¥</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> shared-data:/data writer-app</span>
<span class="line"></span>
<span class="line"><span class="token comment"># å®¹å™¨ B è¯»å–</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> shared-data:/data reader-app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="æ•…éšœæ’æŸ¥ä¸æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ•…éšœæ’æŸ¥ä¸æ³¨æ„äº‹é¡¹"><span>æ•…éšœæ’æŸ¥ä¸æ³¨æ„äº‹é¡¹</span></a></h3><ol><li><p><strong>æƒé™é—®é¢˜ï¼ˆLinux å¸¸è§ï¼‰</strong> å®¹å™¨å†…è¿›ç¨‹ UID ä¸ä¸»æœºæ–‡ä»¶æƒé™ä¸åŒ¹é… â†’ æŒ‚è½½åæ— è¯»å†™æƒé™ã€‚ <strong>è§£å†³</strong>ï¼š</p><ul><li>å¯åŠ¨å®¹å™¨æ—¶æŒ‡å®šç”¨æˆ·ï¼š<code>--user $(id -u):$(id -g)</code></li><li>æˆ–åœ¨ Dockerfile ä¸­è°ƒæ•´ç”¨æˆ·æƒé™</li></ul></li><li><p><strong>SELinux é™åˆ¶ï¼ˆCentOS/RHELï¼‰</strong> éœ€æ·»åŠ  <code>:z</code> æˆ– <code>:Z</code> æ ‡ç­¾ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> /host/path:/container/path:z nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>Windows è·¯å¾„æ ¼å¼</strong> PowerShell ä¸­éœ€è½¬ä¹‰æˆ–ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line">docker run <span class="token operator">-</span>v C:\\my\\path:<span class="token operator">/</span><span class="token keyword">data</span> nginx  <span class="token comment"># æ³¨æ„åæ–œæ </span></span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line">docker run <span class="token operator">-</span>v $<span class="token punctuation">{</span><span class="token function">PWD</span><span class="token punctuation">}</span>:<span class="token operator">/</span><span class="token keyword">data</span> nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>Docker Desktop æ–‡ä»¶å…±äº«è®¾ç½®ï¼ˆmacOS/Windowsï¼‰</strong> é¦–æ¬¡ä½¿ç”¨ Bind Mount å‰ï¼Œéœ€åœ¨ Docker Desktop è®¾ç½®ä¸­<strong>æˆæƒç›®å½•è®¿é—®æƒé™</strong>ã€‚</p></li></ol><hr><h2 id="dockerhub" tabindex="-1"><a class="header-anchor" href="#dockerhub"><span>dockerhub</span></a></h2>`,166)),n("p",null,[s[10]||(s[10]=a("ç½‘å€ï¼š",-1)),n("a",h,[s[9]||(s[9]=a("Docker Hub Container Image Library | App Containerization",-1)),i(l)]),s[11]||(s[11]=a("ï¼ˆå¼€vpnï¼‰",-1))]),s[16]||(s[16]=e(`<p><strong>Docker Hub</strong> æ˜¯ç”± Docker å®˜æ–¹æä¾›çš„<strong>å…¬å…±å®¹å™¨é•œåƒä»“åº“ï¼ˆRegistryï¼‰æœåŠ¡</strong>ï¼Œç±»ä¼¼äº GitHub ä¹‹äºä»£ç ï¼Œæ˜¯å…¨çƒæœ€ä¸»æµçš„ Docker é•œåƒæ‰˜ç®¡å¹³å°ã€‚å¼€å‘è€…å¯ä»¥åœ¨è¿™é‡Œ <strong>æ‹‰å–ï¼ˆpullï¼‰å…¬å¼€é•œåƒ</strong>ã€<strong>æ¨é€ï¼ˆpushï¼‰è‡ªå·±çš„é•œåƒ</strong>ï¼Œå¹¶è¿›è¡Œå›¢é˜Ÿåä½œä¸ç‰ˆæœ¬ç®¡ç†ã€‚</p><p>ä¸€èˆ¬åªæ˜¯ç”¨æ¥çœ‹æ–‡æ¡£ï¼ˆæ³¨æ„ç‰ˆæœ¬å¯¹åº”ï¼‰</p><hr><h2 id="ç®€å•ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ç®€å•ä¼˜åŒ–"><span>ç®€å•ä¼˜åŒ–</span></a></h2><h3 id="å‘½ä»¤åˆ«å-docker-ps" tabindex="-1"><a class="header-anchor" href="#å‘½ä»¤åˆ«å-docker-ps"><span>å‘½ä»¤åˆ«å(docker ps)</span></a></h3><p>é»˜è®¤çš„psæ£€æŸ¥å®¹å™¨è¿è¡Œæƒ…å†µä¹±å¾—ä¸è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨linuxçš„<strong>å‘½ä»¤åˆ«å</strong>æ¥ä¼˜åŒ–å‘½ä»¤ï¼š</p><p>è¿›å…¥ .bashrc ä¸­ä¿®æ”¹é…ç½®ï¼ˆ .bashrc æ˜¯ root ä¸‹çš„éšè—æ–‡ä»¶ï¼‰ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> /root</span>
<span class="line"></span>
<span class="line"><span class="token function">vim</span> .bashrc</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ .bashrc ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">dps</span><span class="token operator">=</span><span class="token string">&#39;docker ps --format &quot;table {{.ID}}\\t {{.Image}}\\t{{.Ports}}\\t{{.Status}}\\t{{.Names}}&quot;&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¿å­˜é€€å‡ºåé‡æ–°åŠ è½½é…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">source</span> /root/.bashrc</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,12))])}const g=t(o,[["render",v]]),f=JSON.parse('{"path":"/docs/heimashangcheng/Docker/1.jianjie.html","title":"Dockerç®€ä»‹","lang":"en-US","frontmatter":{"title":"Dockerç®€ä»‹","date":"2026-1-29"},"headers":[{"level":2,"title":"ç®€å•æ¦‚å¿µ","slug":"ç®€å•æ¦‚å¿µ","link":"#ç®€å•æ¦‚å¿µ","children":[{"level":3,"title":"æ ¸å¿ƒç‰¹ç‚¹ï¼š","slug":"æ ¸å¿ƒç‰¹ç‚¹","link":"#æ ¸å¿ƒç‰¹ç‚¹","children":[]},{"level":3,"title":"æ ¸å¿ƒæ¦‚å¿µï¼š","slug":"æ ¸å¿ƒæ¦‚å¿µ","link":"#æ ¸å¿ƒæ¦‚å¿µ","children":[]},{"level":3,"title":"ç®€å•ç¤ºä¾‹ï¼š","slug":"ç®€å•ç¤ºä¾‹","link":"#ç®€å•ç¤ºä¾‹","children":[]}]},{"level":2,"title":"å®‰è£…ä¸é…ç½®","slug":"å®‰è£…ä¸é…ç½®","link":"#å®‰è£…ä¸é…ç½®","children":[{"level":3,"title":"ä¸€é”®è„šæœ¬","slug":"ä¸€é”®è„šæœ¬","link":"#ä¸€é”®è„šæœ¬","children":[]},{"level":3,"title":"yumä¸‹è½½","slug":"yumä¸‹è½½","link":"#yumä¸‹è½½","children":[]},{"level":3,"title":"é…ç½®é•œåƒåŠ é€Ÿ","slug":"é…ç½®é•œåƒåŠ é€Ÿ","link":"#é…ç½®é•œåƒåŠ é€Ÿ","children":[]}]},{"level":2,"title":"åŸºç¡€æ“ä½œ","slug":"åŸºç¡€æ“ä½œ","link":"#åŸºç¡€æ“ä½œ","children":[{"level":3,"title":"å¯åŠ¨ä¸éªŒè¯ Docker æœåŠ¡","slug":"å¯åŠ¨ä¸éªŒè¯-docker-æœåŠ¡","link":"#å¯åŠ¨ä¸éªŒè¯-docker-æœåŠ¡","children":[]},{"level":3,"title":"é•œåƒï¼ˆImageï¼‰æ“ä½œ","slug":"é•œåƒ-image-æ“ä½œ","link":"#é•œåƒ-image-æ“ä½œ","children":[]},{"level":3,"title":"å®¹å™¨ï¼ˆContainerï¼‰æ“ä½œ","slug":"å®¹å™¨-container-æ“ä½œ","link":"#å®¹å™¨-container-æ“ä½œ","children":[]},{"level":3,"title":"è¿è¡Œå®¹å™¨å‘½ä»¤è¯¦è§£","slug":"è¿è¡Œå®¹å™¨å‘½ä»¤è¯¦è§£","link":"#è¿è¡Œå®¹å™¨å‘½ä»¤è¯¦è§£","children":[]},{"level":3,"title":"æ•°æ®ç®¡ç†ï¼šå·ï¼ˆVolumeï¼‰ä¸ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰","slug":"æ•°æ®ç®¡ç†-å·-volume-ä¸ç»‘å®šæŒ‚è½½-bind-mount","link":"#æ•°æ®ç®¡ç†-å·-volume-ä¸ç»‘å®šæŒ‚è½½-bind-mount","children":[]},{"level":3,"title":"ç½‘ç»œï¼ˆNetworkï¼‰åŸºç¡€","slug":"ç½‘ç»œ-network-åŸºç¡€","link":"#ç½‘ç»œ-network-åŸºç¡€","children":[]},{"level":3,"title":"æ¸…ç†ä¸ç»´æŠ¤","slug":"æ¸…ç†ä¸ç»´æŠ¤","link":"#æ¸…ç†ä¸ç»´æŠ¤","children":[]},{"level":3,"title":"å¸¸ç”¨ç»„åˆå‘½ä»¤ç¤ºä¾‹","slug":"å¸¸ç”¨ç»„åˆå‘½ä»¤ç¤ºä¾‹","link":"#å¸¸ç”¨ç»„åˆå‘½ä»¤ç¤ºä¾‹","children":[]}]},{"level":2,"title":"æŒ‚è½½","slug":"æŒ‚è½½","link":"#æŒ‚è½½","children":[{"level":3,"title":"æŒ‚è½½ï¼ˆMountingï¼‰æ¦‚è¿°","slug":"æŒ‚è½½-mounting-æ¦‚è¿°","link":"#æŒ‚è½½-mounting-æ¦‚è¿°","children":[]},{"level":3,"title":"ç»‘å®šæŒ‚è½½ï¼ˆBind Mountsï¼‰","slug":"ç»‘å®šæŒ‚è½½-bind-mounts","link":"#ç»‘å®šæŒ‚è½½-bind-mounts","children":[]},{"level":3,"title":"æ•°æ®å·ï¼ˆVolumesï¼‰","slug":"æ•°æ®å·-volumes","link":"#æ•°æ®å·-volumes","children":[]},{"level":3,"title":"tmpfs æŒ‚è½½ï¼ˆä»… Linuxï¼‰","slug":"tmpfs-æŒ‚è½½-ä»…-linux","link":"#tmpfs-æŒ‚è½½-ä»…-linux","children":[]},{"level":3,"title":"æŒ‚è½½é€‰é¡¹è¯¦è§£ï¼ˆ--mount vs -vï¼‰","slug":"æŒ‚è½½é€‰é¡¹è¯¦è§£-mount-vs-v","link":"#æŒ‚è½½é€‰é¡¹è¯¦è§£-mount-vs-v","children":[]},{"level":3,"title":"æŒ‚è½½å¸¸è§åœºæ™¯ä¸æœ€ä½³å®è·µ","slug":"æŒ‚è½½å¸¸è§åœºæ™¯ä¸æœ€ä½³å®è·µ","link":"#æŒ‚è½½å¸¸è§åœºæ™¯ä¸æœ€ä½³å®è·µ","children":[]},{"level":3,"title":"æ•…éšœæ’æŸ¥ä¸æ³¨æ„äº‹é¡¹","slug":"æ•…éšœæ’æŸ¥ä¸æ³¨æ„äº‹é¡¹","link":"#æ•…éšœæ’æŸ¥ä¸æ³¨æ„äº‹é¡¹","children":[]}]},{"level":2,"title":"dockerhub","slug":"dockerhub","link":"#dockerhub","children":[]},{"level":2,"title":"ç®€å•ä¼˜åŒ–","slug":"ç®€å•ä¼˜åŒ–","link":"#ç®€å•ä¼˜åŒ–","children":[{"level":3,"title":"å‘½ä»¤åˆ«å(docker ps)","slug":"å‘½ä»¤åˆ«å-docker-ps","link":"#å‘½ä»¤åˆ«å-docker-ps","children":[]}]}],"git":{"createdTime":1771171838000,"updatedTime":1771171838000,"contributors":[{"name":"SaltFishGC","email":"130335482+SaltFishGC@users.noreply.github.com","commits":1}]},"filePathRelative":"docs/é»‘é©¬å•†åŸ/Docker/1.ç®€ä»‹.md"}');export{g as comp,f as data};
