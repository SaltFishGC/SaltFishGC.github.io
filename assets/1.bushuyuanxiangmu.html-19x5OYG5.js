import{_ as t,c as p,a as n,b as a,d as l,e as i,r,o as c}from"./app-CohX4sgD.js";const d={},o={href:"https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/",target:"_blank",rel:"noopener noreferrer"},u={href:"https://mobaxterm.mobatek.net/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://blog.csdn.net/KingveyLee/article/details/114984534",target:"_blank",rel:"noopener noreferrer"};function v(b,s){const e=r("ExternalLinkIcon");return c(),p("div",null,[s[5]||(s[5]=n("h2",{id:"linux安装与配置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#linux安装与配置"},[n("span",null,"linux安装与配置")])],-1)),s[6]||(s[6]=n("h3",{id:"virtualbox安装centos7",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#virtualbox安装centos7"},[n("span",null,"VirtualBox安装Centos7")])],-1)),n("p",null,[s[1]||(s[1]=a("iso：",-1)),n("a",o,[s[0]||(s[0]=a("centos-7.9.2009-isos-x86_64安装包下载-开源镜像站-阿里云",-1)),l(e)])]),s[7]||(s[7]=i(`<p>直接下载min版本即可，没有什么gui之类的花里胡哨的。</p><p>然后直接VirtualBox安装此iso文件即可，参数根据自己的配置来。</p><h3 id="虚拟机网络设置" tabindex="-1"><a class="header-anchor" href="#虚拟机网络设置"><span>虚拟机网络设置</span></a></h3><p>项目要求虚拟机能联网，主机能ping通虚拟机并ssh，那就使用桥接即可，虚拟机绑定主机网卡直连路由器，在VirtualBox的网络设置里直接选择对应网卡为桥接。</p><p>但是默认桥接没有固定的ip，每次都从路由器dhcp拿到一个ip，我们需要固定一个ip：</p><p>首先检查一下当前配置：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看网卡名</span></span>
<span class="line">nmcli con show</span>
<span class="line"><span class="token comment"># 假设连接名为 &quot;System eth0&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 查看ip信息</span></span>
<span class="line"><span class="token function">ip</span> addr</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>子网</strong>：<code>192.168.0.0/24</code></li><li><strong>网关</strong>：<code>192.168.0.1</code></li><li><strong>DNS</strong>：通常也是 <code>192.168.0.1</code>（或公共 DNS 如 <code>8.8.8.8</code>）</li></ul><p>选择一个<strong>未被占用的 IP</strong>，例如：<code>192.168.0.200</code></p><p>然后根据获取到的信息完成配置编辑：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> nmcli con mod <span class="token string">&quot;System eth0&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  ipv4.addresses <span class="token number">192.168</span>.0.200/24 <span class="token punctuation">\\</span></span>
<span class="line">  ipv4.gateway <span class="token number">192.168</span>.0.1 <span class="token punctuation">\\</span></span>
<span class="line">  ipv4.dns <span class="token string">&quot;8.8.8.8,114.114.114.114&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  ipv4.method manual</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ip注意和原来的桥接模式在同一网段（一般前24位一致即可）</p><p>网关和原来的一致；dns自选</p><p>模式一定要改为manual固定ip</p></blockquote><p>重启以应用：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> nmcli con down <span class="token string">&quot;System eth0&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> nmcli con up <span class="token string">&quot;System eth0&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>验证一下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ip</span> addr show</span>
<span class="line"><span class="token function">ping</span> www.baidu.com          <span class="token comment"># 测试外网</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以用ssh工具直连虚拟机了。</p><h3 id="ssh工具mobarxterm" tabindex="-1"><a class="header-anchor" href="#ssh工具mobarxterm"><span>ssh工具MobarXterm</span></a></h3>`,19)),n("p",null,[s[3]||(s[3]=a("安装：",-1)),n("a",u,[s[2]||(s[2]=a("MobaXterm free Xserver and tabbed SSH client for Windows",-1)),l(e)])]),s[8]||(s[8]=n("p",null,"项目使用ssh，点击session，选择ssh，根据刚刚搞的ip地址等填入连接信息即可。",-1)),s[9]||(s[9]=n("p",null,"记得在setting的terminal中打开右键粘贴",-1)),s[10]||(s[10]=n("blockquote",null,[n("p",null,[a("有了ssh之后，不想看见VirtualBox的虚拟机窗口可以使用"),n("strong",null,"无头启动（start without gui）")])],-1)),s[11]||(s[11]=n("h2",{id:"安装docker",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装docker"},[n("span",null,"安装docker")])],-1)),s[12]||(s[12]=n("h3",{id:"yum更新",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yum更新"},[n("span",null,"yum更新")])],-1)),s[13]||(s[13]=n("p",null,"安装docker之前先完成yum的更新，Centos7已经不维护了，要先给yum配置镜像源：",-1)),n("p",null,[n("a",m,[s[4]||(s[4]=a("CentOS7配置阿里云镜像源（超详细过程）_centos7 一键配置 配置阿里源脚本-CSDN博客",-1)),l(e)])]),s[14]||(s[14]=i(`<p>然后安装docker需要的yum工具：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils device-mapper-persistent-data lvm2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>配置docker的yum下载源：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line"></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s+download.docker.com+mirrors.aliyun.com/docker-ce+&#39;</span> /etc/yum.repos.d/docker-ce.repo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新一下缓存：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum makecache fast</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="安装docker-1" tabindex="-1"><a class="header-anchor" href="#安装docker-1"><span>安装docker</span></a></h3><p>yum安装：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>配置一下开机启动：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 启动Docker</span></span>
<span class="line">systemctl start <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 停止Docker</span></span>
<span class="line">systemctl stop <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启</span></span>
<span class="line">systemctl restart <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置开机自启</span></span>
<span class="line">systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 执行docker ps命令，如果不报错，说明安装启动成功</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置docker镜像源" tabindex="-1"><a class="header-anchor" href="#配置docker镜像源"><span>配置docker镜像源</span></a></h3><p>docker一般被墙了，得配置一下镜像源：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建目录</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制内容</span></span>
<span class="line"><span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">    &quot;registry-mirrors&quot;: [</span>
<span class="line">        &quot;http://hub-mirror.c.163.com&quot;,</span>
<span class="line">        &quot;https://mirrors.tuna.tsinghua.edu.cn&quot;,</span>
<span class="line">        &quot;http://mirrors.sohu.com&quot;,</span>
<span class="line">        &quot;https://ustc-edu-cn.mirror.aliyuncs.com&quot;,</span>
<span class="line">        &quot;https://ccr.ccs.tencentyun.com&quot;,</span>
<span class="line">        &quot;https://docker.m.daocloud.io&quot;,</span>
<span class="line">        &quot;https://docker.awsl9527.cn&quot;</span>
<span class="line">    ]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新加载配置</span></span>
<span class="line">systemctl daemon-reload</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启Docker</span></span>
<span class="line">systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker部署项目" tabindex="-1"><a class="header-anchor" href="#docker部署项目"><span>docker部署项目</span></a></h2><h3 id="部署mysql容器" tabindex="-1"><a class="header-anchor" href="#部署mysql容器"><span>部署mysql容器</span></a></h3><p>先做一个网络空间：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create hm-net</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>挂载mysql初始化文件</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /root/mysql/data:/var/lib/mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /root/mysql/conf:/etc/mysql/conf.d <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /root/mysql/init:/docker-entrypoint-initdb.d <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> hm-net<span class="token punctuation">\\</span></span>
<span class="line">  mysql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>mysql版本根据自己安装的image来</p></blockquote>`,21))])}const k=t(d,[["render",v]]),g=JSON.parse('{"path":"/docs/heimashangcheng/weifuwu/1.bushuyuanxiangmu.html","title":"部署原项目","lang":"en-US","frontmatter":{"title":"部署原项目","date":"2026-2-1"},"headers":[{"level":2,"title":"linux安装与配置","slug":"linux安装与配置","link":"#linux安装与配置","children":[{"level":3,"title":"VirtualBox安装Centos7","slug":"virtualbox安装centos7","link":"#virtualbox安装centos7","children":[]},{"level":3,"title":"虚拟机网络设置","slug":"虚拟机网络设置","link":"#虚拟机网络设置","children":[]},{"level":3,"title":"ssh工具MobarXterm","slug":"ssh工具mobarxterm","link":"#ssh工具mobarxterm","children":[]}]},{"level":2,"title":"安装docker","slug":"安装docker","link":"#安装docker","children":[{"level":3,"title":"yum更新","slug":"yum更新","link":"#yum更新","children":[]},{"level":3,"title":"安装docker","slug":"安装docker-1","link":"#安装docker-1","children":[]},{"level":3,"title":"配置docker镜像源","slug":"配置docker镜像源","link":"#配置docker镜像源","children":[]}]},{"level":2,"title":"docker部署项目","slug":"docker部署项目","link":"#docker部署项目","children":[{"level":3,"title":"部署mysql容器","slug":"部署mysql容器","link":"#部署mysql容器","children":[]}]}],"git":{"createdTime":1771171588000,"updatedTime":1771171588000,"contributors":[{"name":"SaltFishGC","email":"130335482+SaltFishGC@users.noreply.github.com","commits":1}]},"filePathRelative":"docs/黑马商城/微服务/1.部署原项目.md"}');export{k as comp,g as data};
