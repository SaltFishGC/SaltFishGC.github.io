import{_ as n,c as a,e,o as t}from"./app-ifxsENr-.js";const p={};function l(c,s){return t(),a("div",null,[...s[0]||(s[0]=[e(`<p>åœ¨ MyBatis-Plusï¼ˆMPï¼‰ä¸­ï¼Œ<strong>ç»“åˆ <code>Wrapper</code>ï¼ˆæ¡ä»¶æ„é€ å™¨ï¼‰å’Œ Mapper è‡ªå®šä¹‰ SQL</strong> æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ï¼š ä½ å¸Œæœ› <strong>å¤ç”¨è‡ªå®šä¹‰çš„å¤æ‚ SQLï¼ˆå¦‚å¤šè¡¨ JOINã€å­æŸ¥è¯¢ã€èšåˆç­‰ï¼‰</strong>ï¼ŒåŒæ—¶åˆèƒ½ <strong>åŠ¨æ€ä¼ å…¥ WHERE æ¡ä»¶</strong> â€”â€” è€Œè¿™äº›æ¡ä»¶æœ€å¥½ç”± MP çš„ <code>Wrapper</code> æ¥æ„å»ºï¼Œé¿å…æ‰‹åŠ¨æ‹¼æ¥ã€‚</p><p>å¥½æ¶ˆæ¯æ˜¯ï¼š<strong>MyBatis-Plus å®Œå…¨æ”¯æŒè¿™ç§æ··åˆæ¨¡å¼ï¼</strong></p><hr><h2 id="âœ…-æ ¸å¿ƒæ€è·¯" tabindex="-1"><a class="header-anchor" href="#âœ…-æ ¸å¿ƒæ€è·¯"><span>âœ… æ ¸å¿ƒæ€è·¯</span></a></h2><blockquote><p>åœ¨è‡ªå®šä¹‰ SQL ä¸­ä½¿ç”¨ <code>&lt;where&gt;</code> + <code>\${ew.sqlSegment}</code>ï¼ˆæˆ– <code>\${ew.customSqlSegment}</code>ï¼‰ï¼Œ ç„¶ååœ¨ Mapper æ¥å£ä¸­æ–¹æ³•å‚æ•°åŠ ä¸Š <code>@Param(Constants.WRAPPER)</code> Wrapper wrapperã€‚</p></blockquote><p>è¿™æ ·ï¼ŒMP ä¼šè‡ªåŠ¨å°† Wrapper æ„å»ºçš„æ¡ä»¶æ‹¼æ¥åˆ°ä½ çš„ SQL ä¸­ã€‚</p><hr><h2 id="ä¸€ã€å…·ä½“æ­¥éª¤-ä»¥-lambdaquerywrapper-ä¸ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å…·ä½“æ­¥éª¤-ä»¥-lambdaquerywrapper-ä¸ºä¾‹"><span>ä¸€ã€å…·ä½“æ­¥éª¤ï¼ˆä»¥ <code>LambdaQueryWrapper</code> ä¸ºä¾‹ï¼‰</span></a></h2><h3 id="_1-mapper-æ¥å£å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#_1-mapper-æ¥å£å®šä¹‰"><span>1. Mapper æ¥å£å®šä¹‰</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•ï¼Œæ¥æ”¶ Wrapper ä½œä¸ºæ¡ä»¶</span></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectUserWithDept</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span><span class="token constant">WRAPPER</span><span class="token punctuation">)</span> <span class="token class-name">Wrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ğŸ”¸ å¿…é¡»ä½¿ç”¨ <code>@Param(Constants.WRAPPER)</code> æ³¨è§£ï¼Œä¸”å‚æ•°åå›ºå®šä¸º <code>wrapper</code>ï¼ˆæˆ–ä»»æ„åï¼Œä½†æ³¨è§£å€¼å¿…é¡»æ˜¯ <code>Constants.WRAPPER</code>ï¼‰ã€‚ ğŸ”¸ è¿”å›ç±»å‹å¯ä»¥æ˜¯ VOã€Map æˆ–å®ä½“ï¼Œä¸å¼ºåˆ¶æ˜¯ Entityã€‚</p></blockquote><hr><h3 id="_2-xml-ä¸­ç¼–å†™è‡ªå®šä¹‰-sql" tabindex="-1"><a class="header-anchor" href="#_2-xml-ä¸­ç¼–å†™è‡ªå®šä¹‰-sql"><span>2. XML ä¸­ç¼–å†™è‡ªå®šä¹‰ SQL</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUserWithDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.vo.UserVO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    SELECT </span>
<span class="line">        u.id, u.name, u.email,</span>
<span class="line">        d.dept_name AS deptName</span>
<span class="line">    FROM user u</span>
<span class="line">    LEFT JOIN department d ON u.dept_id = d.id</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span> </span>
<span class="line">        \${ew.sqlSegment}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ğŸ”¸ <code>\${ew.sqlSegment}</code> ä¼šè‡ªåŠ¨æ›¿æ¢ä¸º Wrapper ç”Ÿæˆçš„ WHERE æ¡ä»¶ï¼ˆä¸å« <code>WHERE</code> å…³é”®å­—ï¼‰ã€‚ ğŸ”¸ ä½¿ç”¨ <code>&lt;where&gt;</code> æ ‡ç­¾å¯è‡ªåŠ¨å¤„ç† AND/OR å¼€å¤´çš„é—®é¢˜ã€‚</p></blockquote><hr><h3 id="_3-è°ƒç”¨æ—¶ä¼ å…¥-wrapper" tabindex="-1"><a class="header-anchor" href="#_3-è°ƒç”¨æ—¶ä¼ å…¥-wrapper"><span>3. è°ƒç”¨æ—¶ä¼ å…¥ Wrapper</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Autowired</span></span>
<span class="line"><span class="token keyword">private</span> <span class="token class-name">UserMapper</span> userMapper<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">likeRight</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">,</span> <span class="token string">&quot;å¼ &quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getStatus</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserVO</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectUserWithDept</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿæˆçš„ SQL ç±»ä¼¼ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SELECT</span> u<span class="token punctuation">.</span>id<span class="token punctuation">,</span> u<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>dept_name</span>
<span class="line"><span class="token keyword">FROM</span> <span class="token keyword">user</span> u</span>
<span class="line"><span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> department d <span class="token keyword">ON</span> u<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id</span>
<span class="line"><span class="token keyword">WHERE</span> u<span class="token punctuation">.</span>name <span class="token operator">LIKE</span> <span class="token string">&#39;å¼ %&#39;</span> <span class="token operator">AND</span> u<span class="token punctuation">.</span>age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">AND</span> u<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="äºŒã€æ³¨æ„äº‹é¡¹-é«˜çº§æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ³¨æ„äº‹é¡¹-é«˜çº§æŠ€å·§"><span>äºŒã€æ³¨æ„äº‹é¡¹ &amp; é«˜çº§æŠ€å·§</span></a></h2><h3 id="âœ…-1-å­—æ®µåè¦å¯¹åº”æ•°æ®åº“åˆ—-ä¸æ˜¯-java-å±æ€§" tabindex="-1"><a class="header-anchor" href="#âœ…-1-å­—æ®µåè¦å¯¹åº”æ•°æ®åº“åˆ—-ä¸æ˜¯-java-å±æ€§"><span>âœ… 1. å­—æ®µåè¦å¯¹åº”æ•°æ®åº“åˆ—ï¼ˆä¸æ˜¯ Java å±æ€§ï¼‰</span></a></h3><p>Wrapper ä¸­çš„å­—æ®µæœ€ç»ˆä¼šè½¬æˆ <strong>æ•°æ®åº“åˆ—å</strong>ã€‚ å¦‚æœä½ çš„ Entity ç”¨äº† <code>@TableField(&quot;user_name&quot;)</code>ï¼Œé‚£ä¹ˆï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line">wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getUserName</span><span class="token punctuation">,</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span> </span>
<span class="line"><span class="token comment">// ç”Ÿæˆçš„æ˜¯ user_name = &#39;xxx&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ä½ çš„è‡ªå®šä¹‰ SQL ä¸­ä¹Ÿè¦ç”¨ <strong>æ•°æ®åº“åˆ—å</strong>ï¼ˆå¦‚ <code>u.user_name</code>ï¼‰ã€‚</p><hr><h3 id="âœ…-2-å¦‚æœåªæƒ³ç”¨æ¡ä»¶éƒ¨åˆ†-ä¸è¦-order-by-group-by" tabindex="-1"><a class="header-anchor" href="#âœ…-2-å¦‚æœåªæƒ³ç”¨æ¡ä»¶éƒ¨åˆ†-ä¸è¦-order-by-group-by"><span>âœ… 2. å¦‚æœåªæƒ³ç”¨æ¡ä»¶éƒ¨åˆ†ï¼ˆä¸è¦ ORDER BY / GROUP BYï¼‰</span></a></h3><p>é»˜è®¤ <code>ew.sqlSegment</code> åŒ…å« <code>WHERE ... ORDER BY ... GROUP BY ...</code>ã€‚</p><p>å¦‚æœä½ åªæƒ³è¦ <strong>WHERE æ¡ä»¶éƒ¨åˆ†</strong>ï¼ˆæ¯”å¦‚ä½ è‡ªå·±æ§åˆ¶æ’åºï¼‰ï¼Œç”¨ï¼š</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    \${ew.customSqlSegment}</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>customSqlSegment</code> åªåŒ…å« WHERE æ¡ä»¶ï¼Œä¸åŒ…å« ORDER/GROUP/LIMITã€‚</p></blockquote><hr><h3 id="âœ…-3-æ”¯æŒ-update-åœºæ™¯å—" tabindex="-1"><a class="header-anchor" href="#âœ…-3-æ”¯æŒ-update-åœºæ™¯å—"><span>âœ… 3. æ”¯æŒ Update åœºæ™¯å—ï¼Ÿ</span></a></h3><p><strong>æ”¯æŒï¼</strong> ä¾‹å¦‚è‡ªå®šä¹‰æ›´æ–°ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// Mapper æ¥å£</span></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">updateUserStatus</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span><span class="token constant">WRAPPER</span><span class="token punctuation">)</span> <span class="token class-name">Wrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">&lt;</span>update id<span class="token operator">=</span><span class="token string">&quot;updateUserStatus&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token constant">UPDATE</span> user</span>
<span class="line">    <span class="token class-name">SET</span> status <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">    <span class="token generics"><span class="token punctuation">&lt;</span>where<span class="token punctuation">&gt;</span></span></span>
<span class="line">        $<span class="token punctuation">{</span>ew<span class="token punctuation">.</span>sqlSegment<span class="token punctuation">}</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>where<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>update<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line">wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">userMapper<span class="token punctuation">.</span><span class="token function">updateUserStatus</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰€æœ‰ age=16 çš„ç”¨æˆ· status è®¾ä¸º 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="âŒ-å¸¸è§é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#âŒ-å¸¸è§é”™è¯¯"><span>âŒ å¸¸è§é”™è¯¯</span></a></h3><table><thead><tr><th>é”™è¯¯</th><th>åŸå› </th></tr></thead><tbody><tr><td><code>Property &#39;ew&#39; not found</code></td><td>å¿˜è®°åŠ  <code>@Param(Constants.WRAPPER)</code></td></tr><tr><td>å­—æ®µåå¯¹ä¸ä¸Š</td><td>Entity çš„ Java å±æ€§ vs æ•°æ®åº“åˆ—åä¸ä¸€è‡´ï¼Œä¸”æ²¡ç”¨ <code>@TableField</code></td></tr><tr><td>SQL æ³¨å…¥è­¦å‘Š</td><td>ç”¨äº† <code>\${}</code>ï¼Œä½† MP å¯¹ <code>sqlSegment</code> åšäº†å®‰å…¨è¿‡æ»¤ï¼ˆåŸºäºå­—æ®µç™½åå•ï¼‰ï¼Œä¸€èˆ¬å®‰å…¨</td></tr></tbody></table><blockquote><p>ğŸ’¡ MP çš„ <code>sqlSegment</code> æ˜¯<strong>å®‰å…¨çš„</strong>ï¼Œå› ä¸ºå®ƒåªå…è®¸ Entity ä¸­å®šä¹‰çš„å­—æ®µï¼Œä¸ä¼šç›´æ¥æ‹¼æ¥å¤–éƒ¨å­—ç¬¦ä¸²ã€‚</p></blockquote><hr><h2 id="ä¸‰ã€å®Œæ•´ç¤ºä¾‹-å«-vo" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€å®Œæ•´ç¤ºä¾‹-å«-vo"><span>ä¸‰ã€å®Œæ•´ç¤ºä¾‹ï¼ˆå« VOï¼‰</span></a></h2><h3 id="entity" tabindex="-1"><a class="header-anchor" href="#entity"><span>Entity</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span><span class="token string">&quot;user_name&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// getter/setter</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vo" tabindex="-1"><a class="header-anchor" href="#vo"><span>VO</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserVO</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> deptName<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// getter/setter</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mapper" tabindex="-1"><a class="header-anchor" href="#mapper"><span>Mapper</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectCustom</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token class-name">Constants</span><span class="token punctuation">.</span><span class="token constant">WRAPPER</span><span class="token punctuation">)</span> <span class="token class-name">Wrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="xml" tabindex="-1"><a class="header-anchor" href="#xml"><span>XML</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectCustom<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.vo.UserVO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    SELECT u.id, u.user_name, d.dept_name</span>
<span class="line">    FROM user u</span>
<span class="line">    LEFT JOIN dept d ON u.dept_id = d.id</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        \${ew.customSqlSegment}</span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    ORDER BY u.id DESC</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨"><span>è°ƒç”¨</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">var</span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getUserName</span><span class="token punctuation">,</span> <span class="token string">&quot;å¼ &quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserVO</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectCustom</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="âœ…-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#âœ…-æ€»ç»“"><span>âœ… æ€»ç»“</span></a></h2><table><thead><tr><th>è¦ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ¥å£å‚æ•°</strong></td><td>ç”¨ <code>@Param(Constants.WRAPPER) Wrapper&lt;T&gt; wrapper</code></td></tr><tr><td><strong>XML å ä½ç¬¦</strong></td><td>ç”¨ <code>\${ew.sqlSegment}</code>ï¼ˆå« ORDER/GROUPï¼‰æˆ– <code>\${ew.customSqlSegment}</code>ï¼ˆä»… WHEREï¼‰</td></tr><tr><td><strong>å­—æ®µå®‰å…¨</strong></td><td>åªèƒ½ä½¿ç”¨ Entity ä¸­å®šä¹‰çš„å­—æ®µï¼Œé˜²æ³¨å…¥</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¤æ‚æŸ¥è¯¢ï¼ˆJOIN/å­æŸ¥è¯¢ï¼‰+ åŠ¨æ€æ¡ä»¶</td></tr></tbody></table><blockquote><p>è¿™ç§æ–¹å¼å®Œç¾èåˆäº† <strong>MyBatis çš„çµæ´»æ€§</strong> å’Œ <strong>MyBatis-Plus çš„ä¾¿æ·æ€§</strong>ï¼Œæ˜¯ä¼ä¸šçº§å¼€å‘çš„æ¨èå®è·µã€‚</p></blockquote>`,58)])])}const i=n(p,[["render",l]]),r=JSON.parse('{"path":"/docs/heimashangcheng/MybatisPlus/3.jieheWrapperhemapper.html","title":"ç»“åˆWrapperå’Œmapperè‡ªå®šä¹‰sql","lang":"en-US","frontmatter":{"title":"ç»“åˆWrapperå’Œmapperè‡ªå®šä¹‰sql","date":"2026-1-29"},"headers":[{"level":2,"title":"âœ… æ ¸å¿ƒæ€è·¯","slug":"âœ…-æ ¸å¿ƒæ€è·¯","link":"#âœ…-æ ¸å¿ƒæ€è·¯","children":[]},{"level":2,"title":"ä¸€ã€å…·ä½“æ­¥éª¤ï¼ˆä»¥ LambdaQueryWrapper ä¸ºä¾‹ï¼‰","slug":"ä¸€ã€å…·ä½“æ­¥éª¤-ä»¥-lambdaquerywrapper-ä¸ºä¾‹","link":"#ä¸€ã€å…·ä½“æ­¥éª¤-ä»¥-lambdaquerywrapper-ä¸ºä¾‹","children":[{"level":3,"title":"1. Mapper æ¥å£å®šä¹‰","slug":"_1-mapper-æ¥å£å®šä¹‰","link":"#_1-mapper-æ¥å£å®šä¹‰","children":[]},{"level":3,"title":"2. XML ä¸­ç¼–å†™è‡ªå®šä¹‰ SQL","slug":"_2-xml-ä¸­ç¼–å†™è‡ªå®šä¹‰-sql","link":"#_2-xml-ä¸­ç¼–å†™è‡ªå®šä¹‰-sql","children":[]},{"level":3,"title":"3. è°ƒç”¨æ—¶ä¼ å…¥ Wrapper","slug":"_3-è°ƒç”¨æ—¶ä¼ å…¥-wrapper","link":"#_3-è°ƒç”¨æ—¶ä¼ å…¥-wrapper","children":[]}]},{"level":2,"title":"äºŒã€æ³¨æ„äº‹é¡¹ & é«˜çº§æŠ€å·§","slug":"äºŒã€æ³¨æ„äº‹é¡¹-é«˜çº§æŠ€å·§","link":"#äºŒã€æ³¨æ„äº‹é¡¹-é«˜çº§æŠ€å·§","children":[{"level":3,"title":"âœ… 1. å­—æ®µåè¦å¯¹åº”æ•°æ®åº“åˆ—ï¼ˆä¸æ˜¯ Java å±æ€§ï¼‰","slug":"âœ…-1-å­—æ®µåè¦å¯¹åº”æ•°æ®åº“åˆ—-ä¸æ˜¯-java-å±æ€§","link":"#âœ…-1-å­—æ®µåè¦å¯¹åº”æ•°æ®åº“åˆ—-ä¸æ˜¯-java-å±æ€§","children":[]},{"level":3,"title":"âœ… 2. å¦‚æœåªæƒ³ç”¨æ¡ä»¶éƒ¨åˆ†ï¼ˆä¸è¦ ORDER BY / GROUP BYï¼‰","slug":"âœ…-2-å¦‚æœåªæƒ³ç”¨æ¡ä»¶éƒ¨åˆ†-ä¸è¦-order-by-group-by","link":"#âœ…-2-å¦‚æœåªæƒ³ç”¨æ¡ä»¶éƒ¨åˆ†-ä¸è¦-order-by-group-by","children":[]},{"level":3,"title":"âœ… 3. æ”¯æŒ Update åœºæ™¯å—ï¼Ÿ","slug":"âœ…-3-æ”¯æŒ-update-åœºæ™¯å—","link":"#âœ…-3-æ”¯æŒ-update-åœºæ™¯å—","children":[]},{"level":3,"title":"âŒ å¸¸è§é”™è¯¯","slug":"âŒ-å¸¸è§é”™è¯¯","link":"#âŒ-å¸¸è§é”™è¯¯","children":[]}]},{"level":2,"title":"ä¸‰ã€å®Œæ•´ç¤ºä¾‹ï¼ˆå« VOï¼‰","slug":"ä¸‰ã€å®Œæ•´ç¤ºä¾‹-å«-vo","link":"#ä¸‰ã€å®Œæ•´ç¤ºä¾‹-å«-vo","children":[{"level":3,"title":"Entity","slug":"entity","link":"#entity","children":[]},{"level":3,"title":"VO","slug":"vo","link":"#vo","children":[]},{"level":3,"title":"Mapper","slug":"mapper","link":"#mapper","children":[]},{"level":3,"title":"XML","slug":"xml","link":"#xml","children":[]},{"level":3,"title":"è°ƒç”¨","slug":"è°ƒç”¨","link":"#è°ƒç”¨","children":[]}]},{"level":2,"title":"âœ… æ€»ç»“","slug":"âœ…-æ€»ç»“","link":"#âœ…-æ€»ç»“","children":[]}],"git":{"createdTime":1771171838000,"updatedTime":1771171838000,"contributors":[{"name":"SaltFishGC","email":"130335482+SaltFishGC@users.noreply.github.com","commits":1}]},"filePathRelative":"docs/é»‘é©¬å•†åŸ/MybatisPlus/3.ç»“åˆWrapperå’Œmapper.md"}');export{i as comp,r as data};
